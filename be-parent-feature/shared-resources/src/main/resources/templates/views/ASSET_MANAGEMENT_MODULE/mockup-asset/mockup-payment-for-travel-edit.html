<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <script
    type="text/javascript"
    th:src="@{/static/jquery/multiple-select/js/jquery.multiselect.js}"
  ></script>
  <link
    rel="stylesheet"
    type="text/css"
    th:href="@{/static/jquery/multiple-select/css/jquery.multiselect.css}"
  />
  <script>
    $(document).ready(function ($) {
      $("#linkList").on("click", function (event) {
        var url = BASE_URL + "mockup?view-id=mockup.payment.for.travel.list";
        // Redirect to page add
        ajaxRedirect(url);
      });

      $("#cancel").on("click", function (event) {
        var url = BASE_URL + "mockup?view-id=mockup.payment.for.travel.list";
        // Redirect to page add
        ajaxRedirect(url);
      });

      $("#add").on("click", function (event) {
        event.preventDefault();
        var url = BASE_URL + "mockup?view-id=mockup.payment.for.travel.edit";

        // Redirect to page list
        ajaxRedirect(url);
      });

      $("#btnAddInvoice").on("click", function (event) {
        showModal();
      });

      // date picker
      $(".date").datepicker({ autoclose: true, format: "dd/mm/yyyy" });
      var idEffectedDate = $("#fromDate").val();
      var idExpiredDate = $("#toDate").val();
      changeDatepickerById(
        idEffectedDate,
        idExpiredDate,
        "#fromDate",
        "#toDate"
      );

      $("#transferType").on("change", function () {
        var value = $("#transferType").val();

        if (value == "Stock") {
          $("#stock").css("display", "block");

          $("#vendor").css("display", "none");
        } else if ((value = "Vendor")) {
          $("#stock").css("display", "none");

          $("#vendor").css("display", "block");
        }
      });

      $(".type-booking").on("click", function () {
        showhidebooking(this);
      });

      $("#typeAir").on("change", function (event) {
        showType("showFlightBookingDetail");

        hiddenType("showCarBookingDetail");
        hiddenType("showVisaDetail");
        hiddenType("showHotelBookingDetail");
      });

      $("#typeCar").on("change", function (event) {
        showType("showCarBookingDetail");

        hiddenType("showFlightBookingDetail");
        hiddenType("showVisaDetail");
        hiddenType("showHotelBookingDetail");
      });

      $("#typeHotel").on("change", function (event) {
        showType("showHotelBookingDetail");

        hiddenType("showCarBookingDetail");
        hiddenType("showVisaDetail");
        hiddenType("showFlightBookingDetail");
      });

      $("#typeVisa").on("change", function (event) {
        showType("showVisaDetail");

        hiddenType("showCarBookingDetail");
        hiddenType("showFlightBookingDetail");
        hiddenType("showHotelBookingDetail");
      });
    });

    function hiddenType(type) {
      $("#" + type).css("display", "none");
    }

    function showType(type) {
      $("#" + type).css("display", "block");
    }

    function showhidebooking(element) {
      var tableId = $(element).val();
      var isChecked = $(element).is(":checked");
      if (isChecked) $("#" + tableId).show();
      else $("#" + tableId).hide();
    }

    function showModal() {
      $("#myModal").modal("show");
      $("#myModal").css("z-index", 5000);
    }

    function checkStatus(event) {
      if (event.checked) {
        $(".chkStatus").prop("checked", true);
      } else {
        $(".chkStatus").prop("checked", false);
      }
    }

    function clickImport() {
      var countRecord = 0;
      $(".not-exist-db").each(function () {
        if ($(this).attr("style") != "display: none;") {
          countRecord++;
        }
      });
      $(".exist-db").each(function () {
        if ($(this).attr("style") != "display: none;") {
          countRecord++;
        }
      });

      if (countRecord > 0) {
        var message = $("#confirmMessage").val();
        popupConfirm(message, function (result) {
          if (result) {
            //e.preventDefault();
            $(".close").trigger("click");
            importCommon();
          }
        });
      } else {
        importCommon();
      }
    }
  </script>
  <!-- header page start -->
  <div class="title-head clearfix">
    <div class="col-sm-9 col-xs-7 no-padding">
      <h3><i class="fa fa-table"></i>New/Edit Advance Request</h3>
    </div>
    <div class="col-sm-3 col-xs-5 icon-head">
      <div class="pull-right">
        <a>
          <i class="fa fa-arrow-circle-left icon-head-red" id="linkList"></i>
        </a>
        <a>
          <i class="fa fa-plus-circle icon-head-red" id="add"></i>
        </a>
      </div>
    </div>
  </div>

  <form
    class="form-horizontal u-for-page-top j-form-validate"
    id="form-costcenter-edit"
    method="post"
    role="form"
  >
    <th:block
      th:include="/views/ASSET_MANAGEMENT_MODULE/commons/message-alert.html :: content(${messageList})"
    />
    <input
      type="hidden"
      th:name="${_csrf.parameterName}"
      th:value="${_csrf.token}"
    />
    <!-- DETAIL -->
    <!-- process Title, Code, Name, Description start -->
    <div class="bg-content clearfix bg-content-tbl">
      <div class="header-box">
        <h2 class="title-box">Request Personal Information</h2>
      </div>

      <div class="col-sm-12 p-0">
        <div class="form-group">
          <label class="col-sm-2"></label>
          <div class="col-sm-10">
            <input
              type="radio"
              name="typeInvoice"
              id="typeAir"
              checked="checked"
            />
            <span>Air Ticket &nbsp; &nbsp;</span>
            <input type="radio" name="typeInvoice" id="typeHotel" />
            <span>Accomodation &nbsp; &nbsp;</span>
            <input type="radio" name="typeInvoice" id="typeCar" />
            <span>Car Booking &nbsp; &nbsp;</span>
            <input type="radio" name="typeInvoice" id="typeVisa" />
            <span>Visa &nbsp; &nbsp;</span>
          </div>
        </div>
      </div>
      <div class="col-sm-12 p-0">
        <div class="form-group">
          <label class="col-sm-2">Ref No.</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" disabled="" />
          </div>

          <label class="col-sm-2 required">Payment Date</label>
          <div class="col-sm-4">
            <div class="input-group date datepicker">
              <input
                class="form-control"
                type="text"
                placeholder="dd/mm/yyyy"
                autocomplete="off"
                disabled="disabled"
              />
              <div class="input-group-addon">
                <i class="fa fa-calendar"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2">Requester</label>
          <div class="col-sm-4">
            <input class="form-control" type="text" readonly="readonly" />
          </div>
          <label class="col-sm-2 required">Cost Center</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" readonly="readonly" />
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2">Payee Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" />
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2">Tax Code</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" />
          </div>

          <label class="col-sm-2">Payment Amount</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" />
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2 required">Description (EN)</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" />
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2 required">Description (VI)</label>
          <div class="col-sm-10">
            <input class="form-control" />
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2 required">Purpose Of Payment</label>
          <div class="col-sm-10">
            <textarea class="form-control"></textarea>
          </div>
        </div>
      </div>
    </div>

    <div class="bg-content clearfix bg-content-tbl">
      <div class="header-box">
        <h2 class="title-box">Detail Of Bank Account</h2>
      </div>
      <div class="col-sm-12 p-0">
        <div class="form-group">
          <label class="col-sm-2 required">Beneficiary Name</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" />
          </div>
          <label class="col-sm-2 required">Bank Account No</label>
          <div class="col-sm-4">
            <input class="form-control" type="text" />
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2 required">Bank</label>
          <div class="col-sm-4">
            <input class="form-control" type="text" />
          </div>
          <label class="col-sm-2 required">Bank Branch</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" />
          </div>
        </div>
      </div>
    </div>

    <!-- Invoice Information -->
    <div class="bg-content clearfix bg-content-tbl">
      <div class="col-md-2 p-0">
        <div class="header-box">
          <h2 class="title-box">Details of Invoice</h2>
        </div>
      </div>
      <div class="col-md-10 p-0">
        <div class="form-group col-md-12 p-0">
          <div class="pull-right" style="margin: 5px 0">
            <a class="btn-common" id="btnAddInvoice">
              <i class="fa fa-plus-circle" aria-hidden="true"></i> Add</a
            >
          </div>
        </div>
      </div>

      <div class="col-sm-12 p-0">
        <div class="table-responsive col-sm-12 no-padding">
          <table id="tblDataTable" class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="min-width: 30px; width: 30px">#</th>
                <th style="min-width: 50px; width: 50px">Action</th>
                <th style="min-width: 180px; width: 180px">
                  Types of Invoices
                </th>
                <th style="min-width: 120px; width: 120px">Invoice Serial</th>
                <th style="min-width: 120px; width: 120px">Invoice Date</th>
                <th style="min-width: 100px; width: 100px">Invoice Number</th>
                <th style="min-width: 220px; width: 220px">
                  Invoice Description
                </th>
                <th style="min-width: 150px; width: 150px">Invoice Amount</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center">1</td>
                <td class="td-action">
                  <div class="align-center">
                    <a
                      class="
                        glyphicon glyphicon-remove-sign
                        font-size-20
                        red
                        j-btn-delete
                      "
                    ></a>
                  </div>
                </td>
                <td class="text-center">
                  <select class="form-control">
                    <option>Tax Invoice (VAT 0%)</option>
                    <option>Tax Invoice (VAT 5%)</option>
                    <option>Tax Invoice (VAT 10%)</option>
                    <option>Receipt</option>
                  </select>
                </td>

                <!-- Invoice Serial -->
                <td class="text-left">
                  <input class="form-control" type="text" value="INV-19/0001" />
                </td>

                <!-- Invoice Date -->
                <td class="text-center">
                  <div class="input-group date datepicker">
                    <input
                      class="form-control invoiceDate"
                      type="text"
                      placeholder="dd/mm/yyyy"
                      autocomplete="off"
                      name="invoiceDate"
                      value="10/08/2019"
                    />
                    <div class="input-group-addon">
                      <i class="fa fa-calendar"></i>
                    </div>
                  </div>
                </td>

                <td class="text-left">
                  <input class="form-control" type="text" />
                </td>

                <!-- Invoice Description -->
                <td class="text-left">
                  <textarea rows="1" cols="" class="form-control"></textarea>
                </td>

                <!-- Invoice Amount -->
                <td class="text-right">
                  <input class="form-control" type="text" />
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div>
          <div class="pull-right">
            <label class="col-md-8" style="font-weight: bold">Total</label>

            <div class="col-md-4">
              <label style="font-weight: bold">-</label>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- END Invoice Information -->

    <div class="bg-content clearfix bg-content-tbl">
      <div class="col-md-5 p-0">
        <div class="header-box">
          <h2 class="title-box">Details of Travel Request</h2>
        </div>
      </div>
      <div class="col-md-7 p-0">
        <div class="form-group">
          <div>
            <div class="pull-right" style="margin: 5px 0">
              <a class="btn-common" id="btnAddDetail">
                <i class="fa fa-plus-circle" aria-hidden="true"></i> Add</a
              >
              <a class="btn-common" id="btnImport" onclick="clickImport()">
                <i class="fa fa-download" aria-hidden="true"></i>
                <span>Import</span>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="col-sm-12 p-0">
        <div class="table-responsive col-sm-12 no-padding">
          <table id="tblDataTable" class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="min-width: 30px; width: 30px">#</th>
                <th style="min-width: 50px; width: 50px">Action</th>
                <th style="min-width: 130px; width: 130px">Invoice Number</th>
                <th style="min-width: 130px; width: 130px">TR No</th>
                <th style="min-width: 120px; width: 120px">TR Date</th>
                <th style="min-width: 120px; width: 120px">Budget Year</th>
                <th style="min-width: 150px; width: 150px">Expense Type</th>
                <th style="min-width: 180px; width: 180px">Cost Center</th>
                <th style="min-width: 180px; width: 180px">Account Code</th>
                <th style="min-width: 150px; width: 150px">Amount</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center">1</td>
                <td class="td-action">
                  <div class="align-center">
                    <a
                      class="
                        glyphicon glyphicon-remove-sign
                        font-size-20
                        red
                        j-btn-delete
                      "
                    ></a>
                  </div>
                </td>

                <!-- Invoice Number -->
                <td class="text-center">
                  <input class="form-control" type="text" value="INV000091" />
                </td>

                <!-- TR No. -->
                <td class="text-left">
                  <a href="">TR.FIN19.001</a>
                </td>
                <!-- TR Date -->
                <td class="text-center">
                  <div class="input-group date datepicker">
                    <input
                      class="form-control invoiceDate"
                      type="text"
                      placeholder="dd/mm/yyyy"
                      autocomplete="off"
                      name="invoiceDate"
                      value="20/08/2019"
                    />
                    <div class="input-group-addon">
                      <i class="fa fa-calendar"></i>
                    </div>
                  </div>
                </td>

                <!-- Budget Year -->
                <td class="text-left">
                  <select class="form-control">
                    <option>2019</option>
                  </select>
                </td>

                <!-- Expense Type -->
                <td class="text-left">
                  <select class="form-control">
                    <option>OPEX</option>
                  </select>
                </td>

                <!-- Cost Center -->
                <td class="text-left">
                  <select class="form-control">
                    <option>820000</option>
                  </select>
                </td>

                <!-- Account Code -->
                <td class="text-left">
                  <select class="form-control">
                    <option>547600 - Other Expense Travel</option>
                  </select>
                </td>

                <!-- Amount -->
                <td>
                  <input
                    class="form-control text-right"
                    type="text"
                    value="15,000,000"
                  />
                </td>
              </tr>
              <tr>
                <td class="text-center">2</td>
                <td class="td-action">
                  <div class="align-center">
                    <a
                      class="
                        glyphicon glyphicon-remove-sign
                        font-size-20
                        red
                        j-btn-delete
                      "
                    ></a>
                  </div>
                </td>

                <!-- Invoice Number -->
                <td class="text-center">
                  <input class="form-control" type="text" value="INV000092" />
                </td>

                <!-- TR No. -->
                <td class="text-left">
                  <a href="">TR.FIN19.001</a>
                </td>
                <!-- TR Date -->
                <td class="text-center">
                  <div class="input-group date datepicker">
                    <input
                      class="form-control invoiceDate"
                      type="text"
                      placeholder="dd/mm/yyyy"
                      autocomplete="off"
                      name="invoiceDate"
                      value="20/08/2019"
                    />
                    <div class="input-group-addon">
                      <i class="fa fa-calendar"></i>
                    </div>
                  </div>
                </td>

                <!-- Budget Year -->
                <td class="text-left">
                  <select class="form-control">
                    <option>2019</option>
                  </select>
                </td>

                <!-- Expense Type -->
                <td class="text-left">
                  <select class="form-control">
                    <option>OPEX</option>
                  </select>
                </td>

                <!-- Cost Center -->
                <td class="text-left">
                  <select class="form-control">
                    <option>820000</option>
                  </select>
                </td>

                <!-- Account Code -->
                <td class="text-left">
                  <select class="form-control">
                    <option>547600 - Other Expense Travel</option>
                  </select>
                </td>

                <!-- Amount -->
                <td>
                  <input
                    class="form-control text-right"
                    type="text"
                    value="12,000,000"
                  />
                </td>
              </tr>
              <tr>
                <td colspan="9" class="text-right"><b>TOTAL</b></td>
                <td class="text-right"><b>27,000,000</b></td>
              </tr>
            </tbody>
          </table>
        </div>
        <th:block
          th:include="/views/ASSET_MANAGEMENT_MODULE/mockup-asset/mockup-paging.html :: content"
        />
      </div>
    </div>

    <th:block th:include="views/mockup/mockup-process.html :: content" />

    <th:block
      th:include="/views/ASSET_MANAGEMENT_MODULE/mockup-asset/popup-import-excel.html :: content('mockup')"
    />
  </form>

  <div
    class="modal fade"
    id="myModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="myModalLabel"
  >
    <div
      class="modal-dialog"
      role="document"
      style="width: 80%; max-width: 80%"
    >
      <div class="modal-content">
        <div class="modal-header">
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
          <h4 class="modal-title" id="myModalLabel">Travel Request</h4>
        </div>
        <div class="modal-body">
          <div class="col-sm-12 p-0">
            <th:block
              th:include="/views/ASSET_MANAGEMENT_MODULE/mockup-asset/mockup-payment-for-travel-model-list.html :: content"
            />
          </div>
        </div>
        <div align="center">
          <!-- Tranlth 27/05/2019 thêm mới add và bỏ Ok + Cancel Task #23724 -->
          <a
            href="#"
            class="btn-common btn-in-tablet"
            data-dismiss="modal"
            id="btnOK"
            ><i class="fa fa-plus-circle"></i> Add</a
          >
          <a href="#" class="btn-cancel" data-dismiss="modal"
            ><i class="fa fa-times"></i> Close</a
          >
          <!-- End -->
        </div>
      </div>
    </div>
  </div>
</html>
