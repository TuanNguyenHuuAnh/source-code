<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <script
    type="text/javascript"
    th:src="@{/static/jquery/multiple-select/js/jquery.multiselect.js}"
  ></script>
  <link
    rel="stylesheet"
    type="text/css"
    th:href="@{/static/jquery/multiple-select/css/jquery.multiselect.css}"
  />
  <script
    type="text/javascript"
    th:src="@{/static/js/plupload-2.1.2/plupload.full.min.js}"
  ></script>
  <script>
    // chuyển qua file js
  </script>
  <!-- header page start -->
  <div class="title-head clearfix">
    <div class="col-sm-9 col-xs-7 no-padding">
      <h3><i class="fa fa-table"></i>warehouse</h3>
    </div>
    <div class="col-sm-3 col-xs-5 icon-head">
      <div class="pull-right">
        <a>
          <i
            class="fa fa-arrow-circle-left icon-head-red"
            th:title="#{back.button}"
            id="linkList"
          ></i>
        </a>
        <a>
          <i
            class="fa fa-plus-circle icon-head-red"
            th:title="#{add.button}"
            id="add"
          ></i>
        </a>
      </div>
    </div>
  </div>
  <!-- DETAIL -->
  <form
    class="form-horizontal u-for-page-top j-form-validate"
    id="form-warehouse-edit"
    method="post"
    role="form"
    th:object="${warehouseDto}"
    th:action="@{/}"
  >
    <th:block
      th:include="/views/ASSET_MANAGEMENT_MODULE/commons/message-alert.html :: content(${messageList})"
    />
    <input
      type="hidden"
      th:name="${_csrf.parameterName}"
      th:value="${_csrf.token}"
    />
    <input hidden="hidden" type="text" th:field="*{id}" />
    <!-- process Title, Code, Name, Description start -->
    <div class="bg-content clearfix">
      <div class="header-box">
        <h2
          class="title-box"
          th:text="#{p2pwarehouse.edit.title}"
          th:if="${warehouseDto.id != null}"
        >
          Update
        </h2>
        <h2
          class="title-box"
          th:text="#{p2pwarehouse.create.title}"
          th:if="${warehouseDto.id == null}"
        >
          Create
        </h2>
      </div>

      <div class="col-sm-12 p-0">
        <div class="form-group">
          <div class="col-sm-6">
            <label class="col-sm-4 required">Warehouse Code</label>
            <div class="col-md-8">
              <input
                type="text"
                th:field="*{code}"
                class="form-control j-required"
                maxlength="3"
              />
              <span
                style="color: red"
                class="help-block"
                th:if="${#fields.hasErrors('code')}"
                th:errors="*{code}"
              ></span>
            </div>
          </div>

          <div class="col-sm-6">
            <label class="col-sm-4">Active</label>
            <div class="col-sm-1">
              <!--    <input type="checkbox" th:field="*{activeFlag}" th:value="*{activeFlag} == 1 ? '1' : '0'" /> -->
              <input
                hidden="hidden"
                type="text"
                th:field="*{activeFlag}"
              /><input
                th:id="*{activeFlag} == 1 ? 'chkActive' :''"
                type="checkbox"
                onclick="this.previousSibling.value=(parseInt(this.previousSibling.value)+1)%2"
              />
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="col-sm-6">
            <label class="col-sm-4 required">Warehouse Name</label>
            <div class="col-md-8">
              <input
                type="text"
                th:field="*{name}"
                class="form-control j-required"
                maxlength="50"
              />
              <span
                style="color: red"
                class="help-block"
                th:if="${#fields.hasErrors('name')}"
                th:errors="*{name}"
              ></span>
            </div>
          </div>

          <div class="col-sm-6">
            <label class="col-sm-4 form-label">Parent Warehouse</label>
            <div class="col-sm-8">
              <select class="form-control" th:field="*{warehousesParentId}">
                <option value="">--</option>
                <th:block th:each="itemWarehouse : ${listWarehouse}">
                  <option
                    th:if="${(itemWarehouse.text != warehouseDto.id)|| (warehouseDto.id == null)}"
                    th:value="${itemWarehouse.text}"
                    th:text="${itemWarehouse.name}"
                  ></option>
                </th:block>
              </select>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-6">
            <label class="col-sm-4">Warehouse Type</label>
            <div class="col-sm-8">
              <select class="form-control" th:field="*{type}">
                <option value="">--</option>
                <option
                  th:each="item : ${listAllType}"
                  th:value="${item.cat}"
                  th:text="${item.catOfficialName}"
                ></option>
              </select>
            </div>
          </div>

          <div class="col-sm-6">
            <label class="col-sm-4 required">Property Of</label>
            <div class="col-sm-8">
              <select class="form-control j-required" th:field="*{propertyOf}">
                <option value="">--</option>
                <option
                  th:each="item : ${listConstant}"
                  th:selected="${warehouseDto.propertyOf != null ? item.cat  == warehouseDto.propertyOf : item.cat == '--'}"
                  th:value="${item.cat}"
                  th:text="${item.cat}"
                ></option>
              </select>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-12">
            <label class="col-sm-2 required">Office Location</label>
            <div class="col-sm-10" style="padding-left: 10px">
              <select
                class="form-control j-required"
                th:field="*{assetLocationCode}"
              ></select>
            </div>
            <input hidden="hidden" th:field="*{assetLocationName}" />
          </div>
        </div>

        <div class="form-group">
          <div class="col-sm-12">
            <label class="col-sm-2 required">Address</label>
            <div class="col-sm-10" style="padding-left: 10px">
              <textarea
                id="pac-input"
                type="text"
                class="form-control j-required"
                maxlength="500"
                th:field="*{address}"
              >
              </textarea>
              <input type="hidden" id="street_number" />
              <input type="hidden" id="route" />
              <input type="hidden" id="locality" />
              <input type="hidden" id="country" />
              <input type="hidden" id="administrative_area_level_1" />
              <input type="hidden" id="administrative_area_level_2" />
            </div>
          </div>
        </div>
        <div class="form-group no-padding">
          <div class="col-sm-6">
            <label class="col-sm-4 required">Warehouse Keeper</label>
            <div class="col-sm-8">
              <input
                type="text"
                class="form-control j-required"
                maxlength="255"
                th:field="*{keeperFullname}"
              />
              <input hidden="hidden" th:field="*{keeperUsername}" />
            </div>
          </div>
          <div class="col-sm-6">
            <label class="col-sm-4">Phone No</label>
            <div class="col-sm-8">
              <input
                type="text"
                class="form-control"
                maxlength="50"
                th:field="*{phone}"
              />
            </div>
          </div>
        </div>

        <div class="form-group no-padding">
          <div class="col-sm-12">
            <label class="col-sm-2">Note</label>
            <div class="col-sm-10" style="padding-left: 10px">
              <textarea
                type="text"
                class="form-control"
                maxlength="255"
                th:field="*{note}"
              >
              </textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 footer-box-bg center">
        <a class="btn-cancel" id="cancel">
          <i class="fa fa-times"></i>
          <span th:text="#{cancel.button}">Thoát</span></a
        >
        <a class="btn-common btn-save">
          <i class="fa fa-floppy-o" aria-hidden="true"></i>
          <span th:text="#{save.button}">Lưu</span></a
        >
      </div>
      <div class="form-group hidden">
        <div class="col-sm-6">
          <label class="col-sm-4" for="latitude" th:text="#{map.latitude}"
            >Vĩ độ</label
          >
          <div class="col-sm-8">
            <input type="text" id="latitude" class="form-control" />
          </div>
        </div>
        <div class="col-sm-6">
          <label class="col-sm-4" for="longtitude" th:text="#{map.longtitude}"
            >Kinh độ</label
          >
          <div class="col-sm-8">
            <input type="text" id="longtitude" class="form-control" />
          </div>
        </div>
      </div>

      <div
        class="col-xs-12 col-sm-12 form-control hidden"
        id="map"
        style="height: 480px"
      ></div>
      <!-- button Exit, Save end-->
    </div>
    <!-- process Code, Name, Description end -->
  </form>
  <script th:inline="javascript">
        /*<![CDATA[*/
        var assetLocationCodeSelected = /*[[${warehouseDto.assetLocationCode}]]*/;
        var assetRegionNameSelected = /*[[${warehouseDto.regionName}]]*/;
        var LST_WARE_HOUSE = /*[[${lstWareHouse}]]*/;
    /*]]>*/
  </script>
  <!-- <input type="hidden" id="url" name="url" th:value="${warehouseDto.url}" /> -->
  <script
    type="text/javascript"
    th:src="@{/static/js/warehouse/warehouse-edit.js}"
  ></script>
  <script
    type="text/javascript"
    th:src="@{/static/js/j-google-map-api.js}"
  ></script>
  <script
    th:src="@{https://maps.googleapis.com/maps/api/js?key=AIzaSyCs2ue2KZmNdxY_9QCX-hNoELD0l70-g-8&amp;libraries=places&amp;callback=initMap}"
    type="text/javascript"
  ></script>
</html>
