<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{templates/unit-layout}"
  layout:fragment="body">

<body th:fragment="content">
	<form class="form-horizontal u-for-page-top j-formSearch"
		th:object="${delegateSearch}" method="POST" role="form">
		<input type="hidden" th:field="*{companyIdList}"/>
		<input type="hidden" th:field="*{companyId}" th:if="${companyList eq null} or ${companyList.size() lt 2}"/>
		<input type="hidden" id="fieldSearchHidden" />
		<input type="hidden" id="fieldValuesHidden" />
		<div class="bg-content clearfix">
			<div data-toggle="collapse" data-target="#search-box"
				class="header-box">
				<h2 class="title-box" th:text="#{search.title}">Vùng tìm kiếm</h2>
				<i class="fa fa-minus pull-right" aria-hidden="true"></i>
			</div>
			<div class="collapse in row m-0" id="search-box">
				<div class="col-xs-12 col-sm-12">
					<div class="form-group col-sm-4">
						<input type="text" class="form-control" th:field="*{fieldSearch}"
							th:placeholder="#{search.key}" autocomplete="off" />
					</div>
					<div class="col-sm-2 form-group">
						<select th:field="*{fieldValues}" multiple="multiple" class="form-control" id="search-filter">
							<th:block th:each="item : ${fieldSelect}">
								<option th:value="${item.value}" 
								th:selected="${delegateSearch.fieldValues} ? ${#arrays.contains(delegateSearch.fieldValues,item.value)}: false" 
								th:text="#{${item.name}}"></option>
							</th:block>
						</select>
					</div>
					<div class="form-group form-inline col-sm-6">
						<label class="form-group col-sm-4 align-top p-0" th:text="#{company.effected.date}">From</label>
						<div class="form-group col-sm-8 p-0">
							<div class="form-group col-sm-5 p-0">
								<div class="input-group date datepicker datepicker-from-date">
									<input class="form-control" th:field="*{fromDate}" th:placeholder="#{search.from.date}"/>
									<div class="input-group-addon">
										<i class="fa fa-calendar"></i>
									</div>
								</div>
							</div>
							<label class="form-group col-sm-2 align-top text-center">~</label>
							<div class="form-group col-sm-5 p-0">
								<div class="input-group date datepicker datepicker-to-date">
									<input class="form-control" th:field="*{toDate}" th:placeholder="#{search.to.date}"/>
									<div class="input-group-addon">
										<i class="fa fa-calendar"></i>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-12">
					<div class="form-group col-sm-6" th:if="${companyList.size() gt 1}">
						<label class="col-sm-4 align-top p-0" th:text="#{company.detail}">Company</label>
						<div class="col-sm-8 p-0">
							<select class="form-control selectpicker select-company" th:field="*{companyId}">
								<option th:value="0" th:text="#{common.all}"></option>
								<option th:each="company : ${companyList}"
									th:value="${company.id}" th:text="${company.text}"></option>
							</select>
						</div>
					</div>
					<div class="form-group col-sm-6">
						<label th:for="*{status}" class="col-sm-4 align-top p-0"
							th:text="#{delegate.edit.table.column.status}"></label>
						<div class="col-sm-8 p-0">
							<select class="form-control selectpicker" th:field="*{status}">
								<option value="" th:text="#{delegate.status.all}"></option>
								<th:block
									th:each="item: ${T(vn.com.unit.jcanary.service.DelegateService.Status).values()}">
									<th:block>
										<option th:value="${item.getKey()}"
											th:text="#{${item.toString()}}"></option>
									</th:block>
								</th:block>
							</select>
						</div>
					</div>
				</div>
				<div class="col-xs-12 col-sm-12" style="margin-top: 10px;"
					align="center">
					<span class="button"> <a
						class="btn btn-common" id="btnSearch"> <i class="fa fa-search"></i>
							<span th:text="#{search.button}"></span>
					</a>
					</span>
				</div>
			</div>
		</div>
	</form>
	<script type="text/javascript"
		th:src="@{/static/cache/js/delegate/delegate-search.js}"></script>
</body>

</html>