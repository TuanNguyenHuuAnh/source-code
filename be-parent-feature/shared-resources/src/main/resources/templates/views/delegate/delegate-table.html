<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<body th:fragment="content">
	<div class="col-sm-12 p-0">
		<div class="col-xs-6 col-sm-8 p-0">
			<h2 class="title-box" th:text="#{search.results.title}">Kết quả
				tìm kiếm</h2>
		</div>
	</div>
	<div class="col-sm-12 no-padding">
		<input type="hidden" id="editMessage" th:value="#{table.emptyTable.label}"/>
		<div class="table-responsive">
			<table id="data"
				class="table table-bordered table-striped table-hover">
				<thead>
					<tr>
						<th class="no">#</th>
						<th th:text="#{table.label.action}">Action</th>
						<th th:text="#{company.detail}" th:if="${#authentication?.principal?.companyIdList.size() gt 1 or #authentication?.principal?.companyAdmin}">Company</th>
						<th th:text="#{delegate.layout.field.performer.label}" >Key performer</th>
						<th th:text="#{delegate.layout.field.delegator.label}">Delegator</th>
						<th th:text="#{company.effected.date}">Effected date</th>
						<th th:text="#{company.expired.date}">Expired date</th>
						<th th:text="#{delegate.edit.table.column.status}">Status</th>
					</tr>
				</thead>
				<tbody>
					<th:block th:each="_item,i : ${pageWrapper.data}" th:with="startIndex=${pageWrapper.startIndexCurrent}">
						<tr th:attr="data-delegate-id=${_item.id}">
							<td class="text-center" th:text="${i.index + startIndex}"></td>
							<!-- <td class="text-center" th:text="${i.index + startIndex} + '-' + ${_item.deletedBy} + '-' + ${_item.isCurrent}"></td>	 -->	
							<td class="text-center action-inline">
                                <div class="">
                                    <a class="glyphicon glyphicon-edit custom-icon j-btn-edit" th:if="${#authorization.expression('hasAuthority(@roleConstant.MY_DOCUMENTS)')} and ${_item.isCurrent} and ${_item.deletedBy} eq null"></a>
                                    <a class="glyphicon glyphicon-eye-open custom-icon j-btn-detail" th:if="${#authorization.expression('hasAuthority(@roleConstant.MY_DOCUMENTS)')} and (${!_item.isCurrent} or ${_item.deletedBy})"></a>
                                    <a class="glyphicon glyphicon-remove-sign font-size-20 red  j-btn-delete" 
                                    th:if="${#authorization.expression('hasAuthority(@roleConstant.MY_DOCUMENTS)')} and ${_item.isCurrent} and ${_item.deletedBy} eq null"></a>
                                </div>
                            </td>	
                            <td th:text="${_item.companyName}" th:if="${#authentication?.principal?.companyIdList.size() gt 1 or #authentication?.principal?.companyAdmin}">HD Bank</td>
							<td th:text="${_item.delegatePersonName}">HD Bank chi nhánh 1</td>
							<td th:text="${_item.delegatedPersonName}">Invoice expenses 1 management ...</td>
							<td class="text-center" th:text="${_item.fromDate != null}?${#dates.format(_item.fromDate, @systemConfig.getConfig('DATE_PATTERN'))}:''">2019/06/25 10:15</td>
							<td class="text-center" th:text="${_item.toDate != null}?${#dates.format(_item.toDate, @systemConfig.getConfig('DATE_PATTERN'))}:''">2019/06/25 10:15</td>
							<td th:text="#{${T(vn.com.unit.jcanary.service.DelegateService.Status).getText(_item.status)}}">status</td>
						</tr>
					</th:block>
					<th:block th:if="${pageWrapper.data.size() == 0}">
						<tr>
							<td colspan="100%" th:text="#{table.emptyTable.label}"></td>
						</tr>
					</th:block>
				</tbody>
			</table>
		</div>
		<th:block
			th:include="views/commons/pagination.html :: content(pageWrapper=${pageWrapper})" />
	</div>
	<script type="text/javascript"
		th:src="@{/static/cache/js/delegate/delegate-table.js}"></script>
</body>

</html>