<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{templates/unit-layout}"
  layout:fragment="body">
<link type="text/css"
	th:href="@{/static/cache/plugins/datetimepicker/bootstrap-datetimepicker.min.css}" />
<script type="text/javascript"
	th:src="@{/static/cache/plugins/datetimepicker/bootstrap-datetimepicker.min.js}"></script>
<script type="text/javascript"
	th:src="@{/static/cache/plugins/cRonstrue/dist/cronstrue.min.js}"></script>
<body>
	<div class="title-head">
		<div class="row">
			<div class="col-md-5">
				<h3>
					<span th:text="#{calendar.type.list.page.name}">Tiêu đề trang</span>
				</h3>
			</div>
		   	<div class="col-md-7">
		        <div class="pull-right">
					 <a class="u-btn u-btn-back" id="btnBack">
					 	<img th:src="@{/static/images/icon-down.png}" alt="" width="17px" class="rotate-ico"/>
					 	<span>Trở lại</span>
					 </a>
					 <a class="u-btn u-btn-primary" id="btnCreate">
		            	<img th:src="@{/static/images/ico-plus-white.png}" alt="" />
		                <span>Thêm mới</span>
		             </a>
					 <a class="btn-save u-btn u-btn-primary" id="btnSaveHead"> 
						<img th:src="@{/static/images/icon-save.png}" alt="" width="19px"/>
						<span>Lưu</span>
					</a>
		        </div>
		   </div>
		</div>	
	</div>
    
    <form class="form-horizontal u-for-page-top j-form-validate" method="POST" role="form" autocomplete="off" th:object="${objectDto}" id="form-detail">
        <th:block th:include="views/commons/message-alert.html :: content(${messageList})" />
        <div class="bg-content clearfix">
            <div class="header-box col-sm-12">
                <h2 class="title-box" th:if="${objectDto.id == null}" th:text="#{calendar.type.detail.page.name.add}">Add</h2>
                <h2 class="title-box" th:unless="${objectDto.id == null}" th:text="#{calendar.type.detail.page.name}">Update</h2>
            </div>
            <input type="hidden" th:field="*{id}" />
            <input type="hidden" id="url" name="url" th:value="${urlRedirect}" />
            <div class="col-sm-12 p-0">
				<div class="col-md-6 p-0">
					<div class="form-group" th:classappend="${#fields.hasErrors('code')} ? has-error : ''">
						<label for="code" class="col-sm-4 required" th:text="#{calendar.type.code}">code</label>
						<div class="col-sm-8">
							<input type="text" class="form-control j-required j-maxlength j-code" th:field="*{code}" data-rule-maxlength="30"/>
							<span class="help-block" th:if="${#fields.hasErrors('code')}" th:errors="*{code}"></span>
						</div>
					</div>
				</div>
				<div class="col-md-6 p-0">
					<div class="form-group" th:classappend="${#fields.hasErrors('name')} ? has-error : ''">
						<label for="name" class="col-sm-4 required" th:text="#{calendar.type.name}">name</label>
						<div class="col-sm-8">
							<input type="text" class="form-control j-required j-maxlength j-specialCharacters" th:field="*{name}" data-rule-maxlength="255"/>
							<span class="help-block" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>
						</div>
					</div>
				</div>
			</div>
			<div class="col-sm-12 p-0">
				<div class="col-md-6 p-0">
					<div class="form-group">
						<label for="description" class="col-sm-4 " th:text="#{calendar.type.description}">description</label>
						<div class="col-sm-8">
							<textarea cols="80" class="form-control" rows="5" th:field="*{description}" > </textarea>
						</div>
					</div>
				</div>
				<!-- <div class="col-md-6 p-0">
					<div class="form-group">
						<label for="displayOrder" class="col-sm-4 required" th:text="#{calendar.type.display.order}">display order</label>
						<div class="col-sm-8">
							  <input type="number" class="form-control j-required j-range j-int" range="[1,999999]" th:field="*{displayOrder}" />
                        	  <span class="error" th:if="${#fields.hasErrors('displayOrder')}" th:errors="*{displayOrder}"></span>
						</div>
					</div>
				</div> -->
				<div class="col-md-6 p-0"  th:if="${companyList.size()>0}">
					<div class="form-group">
		                <label for="companyId" class="col-sm-4" th:text="#{company.detail}">Company</label>
		                <div class="col-sm-8">
		                    <select class="form-control select2" th:field="*{companyId}" th:disabled="*{id}!=null">
		                    	<option  th:if="${#authentication?.principal?.companyAdmin}" th:value="${NULL}" th:text="#{company.all}"></option>
		                         <option th:each="company : ${companyList}" 
		                                th:value="${company.id}"
		                                th:text="${company.text}">
		                        </option>
		                    </select>
		                    <input type="hidden" name="companyId" th:value="${objectDto.companyId}" th:if="*{id}!=null"/>
		                </div>
		            </div>
	            </div>
	            <div th:unless="${companyList.size()>1}">
		        	<input type="hidden" name="companyId" th:value="${#authentication?.principal?.companyId}"/>
		        </div>
	          <div class="col-md-6 p-0">
					<div class="form-group" th:classappend="${#fields.hasErrors('workingHours')} ? has-error : ''">
						<label for="WorkingTime" class="col-sm-4 required" th:text="#{calendar.working.hours}">Working time</label>
						<div class="col-sm-8">
							<input th:field="*{workingHours}" type="text" class="form-control j-required time" />
							<span class="help-block" th:if="${#fields.hasErrors('workingHours')}" th:errors="*{workingHours}"></span>
						</div>
					</div>
				</div>
	            
			</div>

        </div>
    </form>
        
    <script type="text/javascript" th:src="@{/static/cache/js/calendar-type/calendar-type-detail.js}"></script>
</body>    
</html>