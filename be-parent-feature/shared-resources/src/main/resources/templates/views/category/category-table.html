<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<body th:fragment="content">
    <div class="col-sm-12 p-0">
        <h2 class="title-box" th:text="#{search.results.title}">Kết quả tìm kiếm</h2>
        <div class="table-responsive">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th class="u_t_no">#</th>
                        <th class="u_t_action" th:text="#{action.label}">Thao tác</th>
                        <th th:text="#{company.detail}" th:if="${#authentication?.principal?.companyIdList.size()>1 or #authentication?.principal?.companyAdmin}">Company</th>
						<th th:text="#{category.name}">name</th>
						<th th:text="#{category.description}">description</th>
						<th th:text="#{category.display.order}">displayOrder</th>
						<th th:text="#{category.active.flag}">activeFlag</th>
                    </tr>
                </thead>
                <tbody>
                    <th:block th:if="${pageWrapper.data.size() > 0}">
                        <th:block th:each="item, i : ${pageWrapper.data}" th:with="startIndex=${pageWrapper.startIndexCurrent}">
                            <tr th:attr="data-dto-id=${item.categoryId}">
                                <td class="text-center" th:text="${i.index + startIndex}"></td>
                                <td class="text-center nowrap">
                                    <div>
                                        <!--th:if="${@roleConfig.hasRole(@CommonConstant.TODO +':Edit')}"-->
                                        <a class="glyphicon glyphicon-edit custom-icon j-btn-edit btn-edit" th:attr="data-id=${item.categoryId}" th:if="${#authorization.expression('hasAuthority(@roleConstant.CATEGORY_LIST)')}"></a>
                                        <a class="glyphicon glyphicon-remove-sign font-size-20 red  j-btn-delete btn-delete" th:attr="data-id=${item.categoryId}" th:if="${#authorization.expression('hasAuthority(@roleConstant.CATEGORY_LIST)')}"></a>
                                    </div>
                                </td>
                                <td th:if="${#authentication?.principal?.companyIdList.size()>1 or #authentication?.principal?.companyAdmin}" th:text="${item.companyName}"></td>
								<td th:text="${item.categoryName}"></td>
								<td th:text="${item.description}"></td>
								<td class="text-center" th:text="${item.displayOrder == null? '' : #numbers.formatDecimal(item.displayOrder, 0, 'COMMA', 0, 'POINT')}"></td>
								<td th:if="${item.actived}" th:text="#{category.active.flag.enabled}"></td>
								<td th:unless="${item.actived}" th:text="#{category.active.flag.not.enabled}"></td>
                            </tr>
                        </th:block>
                    </th:block>
                    <th:block th:if="${pageWrapper.data.size() == 0}">
                        <tr>
                            <td colspan="100%" th:text="#{table.emptyTable.label}"></td>
                        </tr>
                    </th:block>
                </tbody>
            </table>
        </div>
    </div>
        
    <th:block th:include="views/commons/pagination.html :: content" />
    <script type="text/javascript" th:src="@{/static/cache/js/category/category-table.js}"></script>
</body>
</html>