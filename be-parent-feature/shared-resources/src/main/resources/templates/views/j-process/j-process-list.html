<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{templates/unit-layout}"
  layout:fragment="body">
<div class="title-head clearfix">
	<div class="col-sm-9 col-xs-7 no-padding">
		<h3>
			<i class="fa fa-table"></i> <span th:text="#{j.process}">Process management</span>
		</h3>
	</div>
	<div class="col-sm-3 col-xs-5 icon-head">
		<div class="pull-right">
			<a href="#" th:if="${#authorization.expression('hasAuthority(@roleConstant.PROCESS)')}"><i class="fa fa-plus-circle icon-head-red" id="add" title="Add"></i> </a>
		</div>
	</div>
</div>


<form class="form-horizontal u-for-page-top j-formSearch" th:object="${processSearchDto}" method="POST" role="form" id="formSearch">
	<th:block th:include="views/commons/message-alert.html :: content(${messageList})" />

	<div class="bg-content clearfix">
		<div data-toggle="collapse" data-target="#search-box" class="header-box">
			<h2 class="title-box" th:text="#{search.title}">Vùng tìm kiếm</h2>
			<i class="fa fa-minus pull-right" aria-hidden="true"></i>
		</div>
		<div class="collapse in row m-0" id="search-box">
			<div class="col-sm-6 ">
				<div class="form-group">
					<label class="col-sm-4 " th:text="#{j.process.code}">Process code</label>
					<div class="col-sm-8">
						<input type="text" id="processCode" th:field="*{processCode}" class="form-control" />
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4" th:text="#{j.process.name}">Process name</label>
					<div class="col-sm-8">
						<input type="text" id="processName" th:field="*{processName}" class="form-control" />
					</div>
				</div>

			</div>

			<div class="col-sm-6">
				<div class="form-group">
					<label class="col-sm-4 " th:text="#{business.definition.name}">Business</label>
					<div class="col-sm-8">
						<select id="businessCode" name="businessCode" class="form-control">
							<!-- <option value=""> </option>
							<th:block th:each="item : ${lstBusiness}">
								<option th:value="${ item.code }" th:text="${item.name}" th:selected="${item.code} == *{businessCode}"></option>
							</th:block> -->
						</select>
					</div>
				</div>
				<div class="form-group">
					<label for="companyId" class="col-sm-4" th:text="#{company.detail}">Company</label>
					<div class="col-sm-8">
						<select class="col-sm-8 form-control select2 select-company" id="companyId" name="companyId" th:field="*{companyId}">
							<option th:value="0" th:text="#{common.all}"></option>
							<option th:value="${NULL}" th:text="#{company.all}"></option>
							<option th:each="company : ${companyList}" 
								th:value="${company.id}"
								th:text="${company.text}">
							</option>
						</select>
					</div>
				</div>
			</div>
		</div>

		<div class="col-xs-12 col-sm-12" style="margin-top: 10px">
			<div class="center">
			 	<a id="btnSearch" class="btn btn-common">
			 		<i class="fa fa-search"></i>
					<span th:text="#{search.button}">Tìm kiếm</span>
				</a>
			</div>
		</div>
	</div>
</form>

<div class="bg-content clearfix bg-content-tbl" id="tableList">
	<th:block th:include="views/j-process/j-process-table.html :: content" />
</div>

<script type="text/javascript" th:src="@{/static/cache/js/j-process/j-process-list.js}"></script>
</html>