<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{templates/unit-layout}"
  layout:fragment="body">
	<body>		
		<script type="text/javascript">
			$(document).ready(function() {
				$('#tabLanguage a').click(function(event) {
					event.preventDefault();
					$(this).tab('show');
				});
			});
		</script>
		<script th:inline="javascript">
			/*<![CDATA[*/
			var LANGUAGE_LIST = /*[[${languageList}]]*/;
			/*]]>*/
		</script>		
		
		<!-- <div class="row main-heading ">
			<div class="row unit-border-bottom"> -->
			<div class="title-head clearfix">
				<div class="col-sm-6 col-xs-6">
					<h3 class="mar-tb-no red" th:text="#{country.page}">Tiêu đề trang</h3>
				</div>
				<div class="col-sm-6 col-xs-6 align-right ml-auto">
					<!-- <a class="u-btn-head" id="linkList">
						<img th:src="@{/static/icons/icon-back.png}"/>
						<span th:title="#{icon.back}">Trở lại</span>
					</a> -->
			        <a class="u-btn-head" id="linkList">
			          	<i class="fa fa-arrow-circle-left icon-head-red" th:title="#{icon.back}"></i>
					</a>



					<!-- <a class="u-btn-head"  id="btn-save">
						<img th:src="@{/static/icons/icon-save.png}"/>
						<span th:title="#{save.button}">Lưu</span>
					</a> -->
					<div class="icon-head">
						<a
				          class="font17 btn-save btn-save-2"
				          id="btn-save"
				        >
							<i class="fa fa-save" title="Save"></i>
						</a>
					</div>



					<!-- <a class="u-btn-head" id="add">
						<img th:src="@{/static/icons/icon-plus-white.png}"/>
						<span>Thêm mới</span>
					</a> -->
					<!-- th:if="${(productEdit.typeId == 9 
					                        and #authorization.expression('hasAuthority(''__${@cmsRoleConstant.CN_PAGE_PRODUCT_LIST}__:Edit'')'))
					                    or (productEdit.typeId == 10 
					                        and #authorization.expression('hasAuthority(''__${@cmsRoleConstant.DN_PAGE_PRODUCT_LIST}__:Edit'')'))}" -->
					<a
			          class="u-btn-head"
			          id="add"
			        >
						<i class="fa fa-plus-circle icon-head-red" title="Add"></i>
			        </a>



				</div>
			</div>
			<!-- </div>
		</div> -->

		<form class="form-horizontal u-for-page-top j-form-validate" id = "form-country-edit" th:action="@{/country/edit}" th:object="${countryDto}" method="post" role="form">
			<th:block th:include="views/commons/message-alert.html :: content(${messageList})"/>			  



			<!-- <div class="row unit-bg-com"> -->
			<div class="bg-content clearfix">



				<!-- <h2 class="sub-header section-heading" th:text="#{country.edit.title}">Cập nhật quốc gia</h2> -->
	      		<div class="header-box" style="padding: 0 15px;"> 
					<h2 class="title-box" th:text="#{district.edit.title}">Thông tin tỉnh/thành phố</h2>
		        </div>



	            <input type="hidden" th:field="*{countryId}" />	            
	            <div class="">					
					<div class="col-md-6">
						<div class="form-group">
							<label class="col-sm-4 control-label required " for="countryCode" th:text="#{country.code}" th:classappend="${#fields.hasErrors('countryCode')} ? has-error : ''">Mã quốc gia</label>						
							<div class="col-sm-8" th:classappend="${#fields.hasErrors('countryCode')} ? has-error : ''">
								<input type="text" th:field="*{countryCode}" class="form-control j-required j-code j-maxlength " data-rule-maxlength="3" style="text-transform: uppercase;" />
								<span class="help-block" th:if="${#fields.hasErrors('countryCode')}" th:errors="*{countryCode}"></span>							
							</div>
						</div>
						<!-- Show language -->    		        
						<div class="form-group">
							<label  class="col-sm-4 control-label" th:text="#{news.language}">Ngôn ngữ</label>
							<div class="col-sm-8 gr-tab">
								<ul class="nav nav-tabs" id="tabLanguage">
									<th:block th:each="language, i : ${languageList}">
										<li role="presentation" th:classappend="${i.index == 0}  ? 'active' : ''" th:id="tabLanguage + ${i.index}">
											<a th:href="'#language' + ${i.index}" th:text="${language.name}"></a>
										</li>
									</th:block>
								</ul>
							</div>
						</div>
						<div class="tab-content" style="margin-top: 10px">
							<th:block th:each="language, i : ${languageList}" th:with="index=${i.index}">
							<div th:id="'language' + ${index}" class="tab-pane fade " th:classappend="${index == 0}  ? 'in active' : ''">	        			        			        	
						        <div class="row form-group">
						            <label for="countryLanguageDtos[__${index}__].countryName" class="col-sm-4 control-label required" th:classappend="${#fields.hasErrors('countryLanguageDtos[__${index}__].countryName')} ? has-error : ''" th:text="#{country.name}">Tên quốc gia</label>
						            <div class="col-sm-8" th:classappend="${#fields.hasErrors('countryLanguageDtos[__${index}__].countryName')} ? has-error : ''">
						                <input th:field="*{countryLanguageDtos[__${index}__].countryName}" type="text" class="form-control j-maxlength j-required" data-rule-maxlength="255" maxlength="255" />
						                <span class="help-block" th:if="${#fields.hasErrors('countryLanguageDtos[__${index}__].countryName')}" th:errors="*{countryLanguageDtos[__${index}__].countryName}"></span>
						            </div>	
						        </div>
						        <div class="row form-group">		        
						            <label for="countryLanguageDtos[__${index}__].localName " class="col-sm-4 control-label"  th:classappend="${#fields.hasErrors('countryLanguageDtos[__${index}__].localName')} ? has-error : ''" th:text="#{country.localname}">Tên gọi tắt</label>
						            <div class="col-sm-8">
						                <input th:field="*{countryLanguageDtos[__${index}__].localName}" type="text" class="form-control j-maxlength" data-rule-maxlength="255" maxlength="255" />
						                <span class="help-block" th:if="${#fields.hasErrors('countryLanguageDtos[__${index}__].localName')}" th:errors="*{countryLanguageDtos[__${index}__].localName}"></span>
						            </div>
						        </div>						        				       
						        <input type="hidden" th:field="*{countryLanguageDtos[__${index}__].countryLanguageId}"/>
						        <input type="hidden" th:name="'countryLanguageDtos[' + ${index} + '].mLanguageCode'" th:value="${language.code}"/>		       			        
						        <input type="hidden" th:field="*{countryLanguageDtos[__ ${index}__].mCountryId}" />	
					        </div>		        					    		      
				        	</th:block>
						</div>	
						<!-- End show language -->	
						<div class="form-group">
							<label class="col-sm-4 control-label " for="note" th:text="#{job.note}">Ghi chú</label>						
							<div class="col-sm-8">
								<textarea rows="2" th:field="*{note}" class="col-sm-10 form-control j-maxlength" data-rule-maxlength="65535" ></textarea>                
		                		<span class="help-block" th:if="${#fields.hasErrors('note')}" th:errors="*{note}"></span>		                								
							</div>
						</div>				        			        					
					</div>								
					<div class="col-md-6">
					<!-- Use google Map API -->
						<div class="form-group">
							<label class="col-sm-4 control-label " th:text="#{map.search.location}" >Tìm tọa độ</label>						
							<div class="col-sm-8">
								<input type="text" id = "pac-input"  class="form-control" />																											
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-4 control-label required" for="latitude" th:text="#{map.latitude}" >Vĩ độ</label>						
							<div class="col-sm-8">
								<input type="text" id = "latitude" th:field="*{latitude}" class="form-control j-required" readonly="readonly" />
								<span class="help-block" th:if="${#fields.hasErrors('latitude')}" th:errors="*{latitude}"></span>							
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-4 control-label required" for="longtitude" th:text="#{map.longtitude}">Kinh độ</label>						
							<div class="col-sm-8">
								<input type="text" id = "longtitude" th:field="*{longtitude}" class="form-control j-required" readonly="readonly" />
								<span class="help-block" th:if="${#fields.hasErrors('longtitude')}" th:errors="*{longtitude}"></span>							
							</div>
						</div>
						<!-- End use google Map API -->
						<div class="form-group">
							<label class="col-sm-4 control-label required" for="webCode" th:text="#{country.webcode}">Mã website</label>						
							<div class="col-sm-8">
								<input type="text" th:field="*{webCode}" class="form-control j-code j-maxlength j-required" data-rule-maxlength="2" style="text-transform: uppercase;" maxlength="2"/>
								<span class="help-block" th:if="${#fields.hasErrors('webCode')}" th:errors="*{webCode}"></span>							
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-4 control-label " for="phoneCode" th:text="#{country.phonecode}">Mã điện thoại</label>						
							<div class="col-sm-8">
								<input type="text" id = "postal_code" th:field="*{phoneCode}" class="form-control j-code j-maxlength" data-rule-maxlength="255"/>
								<span class="help-block" th:if="${#fields.hasErrors('phoneCode')}" th:errors="*{phoneCode}"></span>							
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-4 control-label " for="description" th:text="#{job.description}">Mô tả</label>						
							<div class="col-sm-8">
								<textarea rows="2" th:field="*{description}" class="col-sm-10 form-control j-maxlength" data-rule-maxlength="65535" ></textarea>                
		               			<span class="help-block" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span>													
							</div>
						</div>			
						<div class="form-group">
							<label class="col-sm-4" th:text="#{role.active}">Active</label>						
							<div class="col-sm-8">
								<input type="checkbox" th:field="*{activeFlag}"/>													
							</div>
						</div>				
					</div>
					<!-- Add google Map -->
					<div class="col-xs-12 col-sm-12" id="map" style="height:480px;">						
					</div>	
					<input type="hidden" id = "street_number"/>
			        <input type="hidden" id = "route"/>
			        <input type="hidden" id = "locality"/>			
			        <input type="hidden" id = "country"/>		        	
					<input type="hidden" id = "administrative_area_level_1"/>
					<input type="hidden" id = "administrative_area_level_2"/>
					<input type="hidden" th:field="*{fieldSearch}"/>
					<input type="hidden" th:field="*{fieldValues}"/>
					<!-- End add google Map -->												
				</div>  				  		   			    		   			    		   									
			</div>
		</form>		
	<input type="hidden" id="url" name="url" th:value="${countryDto.url}"/>	
	<script type="text/javascript" th:src="@{/static/CMS/all/country/country-edit.js}"></script>	
	<script type="text/javascript" th:src="@{/static/js/j-google-map-api.js}"></script>
	<script th:src="@{https://maps.googleapis.com/maps/api/js?key=AIzaSyCs2ue2KZmNdxY_9QCX-hNoELD0l70-g-8&amp;libraries=places&amp;callback=initMap}" type="text/javascript">
	</script>
	</body>
</html>