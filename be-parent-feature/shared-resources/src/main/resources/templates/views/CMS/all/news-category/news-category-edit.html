<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{templates/unit-layout}"
  layout:fragment="body"
>

	<script th:inline="javascript">
		/*<![CDATA[*/
		var LANGUAGE_LIST = /*[[${languageList}]]*/;
		var CUSTOMER_ALIAS = [[${customerAlias}]];
		var VALIDATE_MIN = [[#{message.error.number.min}]];
		var VALIDATE_MAX = [[#{message.error.number.max}]];

		/*]]>*/
	</script>

	<div class="title-head">
		<div class="row">
			<div class="col-md-5">
				<h3>
					<span th:text="#{news.category.edit.title}">Tiêu đề trang</span>
				</h3>
			</div>
		   	<div class="col-md-7">
		        <div class="pull-right">
		        	 <a class="u-btn u-btn-back" id="linkList">
					 	<img th:src="@{/static/images/icon-down.png}" alt="" width="17px" class="rotate-ico"/>
					 	<span>Trở lại</span>
					 </a>
					 <a class="u-btn u-btn-primary"  id="addNew">
		            	<img th:src="@{/static/images/ico-plus-white.png}" alt="" />
		                <span>Thêm mới</span>
		             </a>
		        </div>
		   </div>
		</div>
	</div>
	
	<form method="POST" class="form-horizontal u-for-page-top j-form-validate" th:object="${editDto}" id="categoryForm">
		<th:block th:include="views/commons/message-alert.html :: content(${messageList})"/>

		<div class="bg-content">
			<div class="row">
				<div class="col-md-6 col-sm-6 no-padding">
					<div class="form-group"  th:classappend="${#fields.hasErrors('code')} ? has-error : ''">
						<label class="col-sm-4 required" th:text="#{news.category.code}">Mã danh mục</label>
						<div class="col-sm-8">
							<input type="text" class="form-control j-maxlength text-uppercase" data-rule-maxlength="30" th:field="*{code}" th:readonly="true" tabindex="1"/>
							<span class="help-block" th:if="${#fields.hasErrors('code')}" th:errors="*{code}"></span>
						</div>
					</div>
				</div>
				
				<div class="col-md-6 col-sm-6 no-padding">
					<div class="form-group">
						<label for="" class="col-sm-4 required" th:text="#{news.category.type}">Trang tin tức</label>
						<div class="col-sm-4" th:classappend="${#fields.hasErrors('mNewsTypeIdDto')} ? has-error : ''">
							<select class="form-control j-required" th:field="*{mNewsTypeIdDto}" tabindex="2" th:disabled="${editDto.id != null}"
									th:data-placeholder="#{news.category.type}">
								<option value=""></option>
                             	<option th:each="choice : ${newsTypeList}" 
                                    th:value="${choice.id}" 
                                    th:selected="(${choice.id} == *{mNewsTypeId})"
                                    th:text="${choice.name}">
                                </option>
							</select>



							<label id="mNewsTypeId-error" class="error" for="mNewsTypeIdDto" style="display: none;">Giá trị bắt buộc nhập</label>
						</div>
					</div>
				</div>
			</div>
		<div class="row">
			<div class="col-md-6 col-sm-6 no-padding">
				<div class="form-group ">
					<label class="col-md-4 " th:text="#{investor.type.category}">Loại</label>
					<div class="col-sm-8">
						<select class="form-control" th:field="*{categoryType}"
							tabindex="1">
							<option value=""></option>
							<option th:each="choice : ${listCategoryType}"
								th:value="${choice.id}"
								th:selected="(${choice.id} == *{categoryType})"
								th:text="${choice.name}"></option>
						</select>
					</div>
				</div>
			</div>
			<div class="col-md-6 col-sm-6 no-padding">
				<div class="form-group ">
					<label class="col-md-4 " th:text="#{account.channel}">Kênh</label>
					<div class="col-sm-4">
						<select class="form-control select2" th:field="*{channelList}"
							tabindex="2" multiple="multiple" id="channelId">
							<option th:each="channel : ${channels}"
								th:value="${channel.code}"
								th:selected="${channelList != null and channelList.contains(channel.code)}"
								th:text="${channel.code} + ' - ' + ${channel.name}"></option>
						</select>
					</div>
				</div>
			</div>
		</div>

		<!-- <div class="col-xs-12 col-sm-12 no-padding">
				<label  class="col-sm-2 control-label" th:text="#{news.type.language}">Ngôn ngữ</label>
					<div class="col-md-4 col-sm-4 gr-tab">	
						<ul class="nav nav-tabs" id="tabLanguage">
							<th:block th:each="language, i : ${languageList}" >
								<li role="presentation" th:classappend="${i.index == editDto.indexLangActive}  ? 'active' : ''" th:id="tabLanguage + ${i.index}">
									<a th:href="'#language' + ${i.index}" th:text="${language.name}"></a>
								</li>
							</th:block>
						</ul>
					</div>
			</div> -->
            
			<div class="tab-content" style="margin-top: 10px">
				<th:block th:each="language, i : ${languageList}" th:with="index=${i.index}">
					<div th:id="'language' + ${index}" class="tab-pane fade" th:classappend="${index == editDto.indexLangActive}  ? 'in active' : ''">
						<div class="row">
							<div class="form-group"  th:classappend="${#fields.hasErrors('categoryLanguageList[__${index}__].label')} ? has-error : ''">
								<label class="col-sm-4 col-md-2 required" th:text="#{news.category.label}">Tên chủ đề</label>
								<div class="col-sm-8 col-md-10 ">
									<input type="text" class="form-control  j-required" maxlength="200" th:field="*{categoryLanguageList[__${index}__].label}"/>
									<span class="help-block" th:if="${#fields.hasErrors('categoryLanguageList[__${index}__].label')}" th:errors="*{categoryLanguageList[__${index}__].label}"></span>

								</div>
							</div>

							<div class="form-group" >
								<label th:text="#{product.seo}" for="name"
										class="col-sm-2 required">Từ khóa SEO</label>
								<div class="col-sm-10 ">
									<input th:field="*{categoryLanguageList[__${index}__].linkAlias}" type="text"
										class="form-control j-required j-maxlength j-link-alias"
										 maxlength="200" placeholder="tien-gui-thanh-toan" tabindex="7" />
									<span class="help-block error" th:if="${#fields.hasErrors('categoryLanguageList[__${index}__].linkAlias')}"
										th:errors="*{categoryLanguageList[__${index}__].linkAlias}"></span>
								</div>
							</div>
						</div>

						<div class="row">
								<div class="form-group" th:classappend="${#fields.hasErrors('categoryLanguageList[__${index}__].keyWord')} ? has-error : ''">
									<label class="col-sm-2 col-md-2"
										th:text="#{product.key.word}">Từ khóa</label>
									<div class="col-sm-10 ">
										<input type="text" class="form-control j-maxlength " id="keyWord"
											 maxlength="200"  th:field="*{categoryLanguageList[__${index}__].keyWord}" tabindex="12" placeholder="#tienguithanhtoan"/>
										<span class="help-block" th:if="${#fields.hasErrors('categoryLanguageList[__${index}__].keyWord')}"
											th:errors="*{categoryLanguageList[__${index}__].keyWord}"></span>
									</div>
								</div>
								<div class="form-group" >
									<label for="name" class="col-sm-2 " th:text="#{product.keyword.description}">Mô tả từ khóa</label>
									<div class="col-sm-10 ">
										<input type="text" class="form-control j-maxlength" maxlength="500" placeholder="Mô tả cho từ khóa #tienguithanhtoan"
										th:field="*{categoryLanguageList[__${index}__].descriptionKeyword}" tabindex="" />
									</div>
								</div>
							</div>

						<input type="hidden" th:name="'categoryLanguageList[' + ${index} + '].languageCode'" th:value="${language.code}"/>
						<input type="hidden" th:field="*{categoryLanguageList[__${index}__].id}"/>
					</div>
				</th:block>
			</div>

			<div class="row">
			<div class="form-group">
				<label class="col-sm-2"></label>
				<div class="col-sm-10 ">
					<input type="checkbox" th:field="*{enabled}" tabindex="4"
						th:disabled="${editDto.hasDisableCheckEnabled}" /> <label
						th:text="#{news.enabled}">Kích hoạt</label>
				</div>
			</div>

		</div>
			
			<div class="row m-0 pos-gr-btn" th:if="${editDto.hasEdit}">
				<!-- <button type="button" class="u-btn u-btn-back " id="cancel"  >
                    <img th:src="@{/static/images/icon-down.png}" alt="" width="17px" class="rotate-ico"/>
                    <span th:text="#{cancel.button}">Thoát</span>
                </button> -->
                
				<button type="button" class="u-btn u-btn-primary" id="btnSave" >
                    <img th:src="@{/static/images/icon-save.png}" alt="" width="19px"/> <span th:text="#{save.button}">Lưu</span>
                </button>
			</div>
		</div>
		<input type="hidden" id="mNewsTypeId" th:field="*{mNewsTypeId}"/>
		<input type="hidden" id="enabled" th:field="*{enabled}"/>

		<input type="hidden" id="categoryId" name="categoryId" th:field="*{id}"/>
		<input type="hidden" th:field="*{status}"/>
		<input type="hidden" th:field="*{customerTypeId}"/>
		<input type="hidden" id="url" name="url" th:value="${editDto.url}"/>
		<input type="hidden" th:field="*{typeJsonHidden}"/>
		<input type="hidden" th:field="*{searchDto}" />
		<input type="hidden" th:field="*{hasEdit}" />
	</form>
	
    <script type="text/javascript" th:src="@{/static/CMS/all/news-category/news-category-edit.js}"></script>
</html>

