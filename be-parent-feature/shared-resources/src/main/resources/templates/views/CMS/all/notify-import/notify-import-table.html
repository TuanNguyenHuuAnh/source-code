<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" type="text/css" th:href="@{/static/jquery/multiple-select/css/jquery.multiselect.css}" />
<script type="text/javascript" th:src="@{/static/plugins/jquery-file-upload/js/jquery.fileupload.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/jquery-file-upload/js/jquery.fileupload-ui.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/jquery-file-upload/js/jquery.iframe-transport.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/jquery-file-upload/js/vendor/jquery.ui.widget.js}"></script>

<!-- BODY START -->
<body th:fragment="content">
    <div class="col-sm-12 no-padding">
        <div class="header-box">
            <div class="row">
                <div class="col-md-4">
                    <h5 class="title-box" th:text="#{import.import.result}">Import Results</h5>
                </div>
                <div class="col-md-8 align-right">
					<!-- Export Excel -->
					<button class="btn-ico" type="button" id="btnExportExcel" th:title="#{searchfield.disp.export.excel}">
						<img th:src="@{/static/images/icon-excel.png}" alt="" width="19px">
					</button>
                </div>
            </div>
        </div>
            
        <div class="table-responsive">
            <table id="tblDataTable" class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th class="text-center">#</th>
                        <th th:text="#{import.message.error}">Message error</th>
                        <!-- <th th:text="#{import.message.warning}">Message Warning</th> -->
                        <th th:text="#{import.agent.code}" class="text-left">Agent code</th>
                         <th th:text="#{import.title}" class="text-left">Title</th>
                        <th th:text="#{import.content}" class="text-left">Content</th>
                    </tr>
                </thead>
                <tbody>
                     <tr th:each="item,i : ${pageWrapper.data}" th:with="startIndex=${pageWrapper.startIndexCurrent}"
                        th:attr="data-id=${item.id}, data-session-key=${item.sessionKey}">
                        <td class="text-center" th:text="${i.index + startIndex}"></td>
                        <!-- Message Error -->
                        <td class="text-nowrap text-center error"
                            onclick="detailMessageImport(this)" style="cursor: pointer;" >
                            <span th:if="${item.messageError}"
							th:text="#{view.error.detail}">View error detail</span>
							<span th:unless="${item.messageError}"></span>
							<input type="hidden" th:value="${item.messageError}" />
                        </td>
                        
                        <!-- Message Warning -->
                        <!-- <td class="text-nowrap text-center warning"
                            onclick="detailMessageWarningImport(this)" style="cursor: pointer;" >
                            <span th:if="${item.messageWarning}"
							th:text="#{view.warning.detail}">View warning detail</span>
							<span th:unless="${item.messageWarning}"></span>
                            <input type="hidden" th:value="${item.messageWarning}" />
                        </td> -->
                        
                        <td class="text-nowrap text-left" th:text="${item.agentCode}"></td>
                        <td class="text-nowrap text-left" th:text="${item.title}"></td>
                        <td class="text-nowrap text-left" th:text="${item.content}"></td>
                	</tr>
                    <th:block th:if="${pageWrapper.countAll == 0}">
                        <tr>
                            <!-- # -->
                            <td th:colspan="9" th:text="#{table.emptyTable.label}">No data</td>
                        </tr>
                    </th:block>
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- PAGINATION -->
    <th:block th:include="views/commons/pagination.html :: content" />

  	
    <input type="hidden" id="sessionKey" name="sessionKey" th:value="${sessionKey}" />
    <input type="hidden" id="isError" name="isError" th:value="${searchDto.isError()}" />
    <input type="hidden" id="error" name="isError" th:value="${error}" />	
    
    
    <div class="modal fade" id="modal-import-message-error">
        <th:block th:include="views/base-master/detail-message-error.html :: content" />
    </div>
    
    <div class="modal fade" id="modal-import-warning-error">
        <th:block th:include="views/base-master/detail-message-warning.html :: content" />
    </div>
    <script type="text/javascript" th:src="@{/static/CMS/all/notify-import/notify-import-table.js}"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/
        var sessionKey = /*[[${sessionKey}]]*/;
        var CONTROLLER_URL = 'notify-import-controller';
        var IS_ERROR = /*[[${isError}]]*/;
        var SEARCH_DTO = /*[[${searchDto}]]*/;
        
        var MSG_CONFIRM_BACK = /*[[#{F001.N008}]]*/;
        var MSG_CONFIRM_DELETE = /*[[#{EDIT.MOVEMENT.F002.N002}]]*/;
        var MSG_CONFIRM_UPDATE = /*[[#{EDIT.MOVEMENT.F002.N005}]]*/;
    /*]]>*/
    	if(IS_ERROR){
		$('#btnSave').prop('disabled', 'disabled');
		} else {
			$('#btnSave').prop('disabled', null);
		}
    </script>
    
</body>
<!-- BODY END -->
</html>