<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" type="text/css" th:href="@{/static/jquery/multiple-select/css/jquery.multiselect.css}" />
<script type="text/javascript" th:src="@{/static/plugins/jquery-file-upload/js/jquery.fileupload.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/jquery-file-upload/js/jquery.fileupload-ui.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/jquery-file-upload/js/jquery.iframe-transport.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/jquery-file-upload/js/vendor/jquery.ui.widget.js}"></script>

<!-- BODY START -->
<body th:fragment="content">
<div class="col-sm-12 no-padding">
    <div class="header-box">
        <div class="row">
            <div class="col-md-4">
                <h5 class="title-box" th:text="#{import.import.result}">Import Results</h5>
            </div>
            <div class="col-md-8 align-right">
                <!-- Export Excel -->
                <button class="btn-ico" type="button" id="btnExportExcel" th:title="#{searchfield.disp.export.excel}">
                    <img th:src="@{/static/images/icon-excel.png}" alt="" width="19px">
                </button>
            </div>
        </div>
    </div>

    <div class="table-responsive">
        <table id="tblDataTable" class="table table-bordered table-striped">
            <thead>
            <tr>
                <th class="text-center">#</th>
                <th th:text="#{import.emulate.error }">Message error</th>
                <th th:text="#{import.emulate.memo}">Số memo</th>
                <th th:text="#{import.emulate.TVTC}">Mã TVTC </th>
                <th th:text="#{import.emulate.mannger}">Mã số quản lý </th>
                <th th:text="#{import.emulate.BM}">Mã số BM  </th>
                <th th:text="#{import.emulate.GAD }">Mã số GAD  </th>
                <th th:text="#{import.emulate.GA}">Mã GA  </th>
                <th th:text="#{import.emulate.BDOH}">Mã BDOH  </th>
                <th th:text="#{import.emulate.BDRH}">Mã BDRH  </th>
                <th th:text="#{import.emulate.BDAH}">Mã BDAH </th>
                <th th:text="#{import.emulate.BDTH}">Mã BDTH </th>
                <th th:text="#{import.emulate.HD}">Số hợp đồng </th>
                <th th:text="#{import.emulate.date.receive}">Ngày nhận </th>
                <th th:text="#{import.emulate.date.release }">Ngày phát hành </th>
                <th th:text="#{import.emulate.prize}">Giải thưởng  </th>
                <th th:text="#{import.emulate.advance}">Đã tạm ứng </th>
                <th th:text="#{import.emulate.additional}">Trả bổ sung </th>
                <th th:text="#{import.emulate.recall}">Thu hồi thưởng </th>
                <th th:text="#{import.emulate.note}">Ghi chú</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item,i : ${pageWrapper.data}" th:with="startIndex=${pageWrapper.startIndexCurrent}"
                th:attr="data-id=${item.id}, data-session-key=${item.sessionKey}">

                <td class="text-right" th:text = "${i.index + startIndex}"></td>
                
                <!-- Message Error -->
                <td class="text-nowrap text-center error"
                    onclick="detailMessageImport(this)"
                    style="cursor: pointer;" >
                    <span th:if="${item.messageError}"
                          th:text="#{view.error.detail}">View error detail</span>
					<span th:unless="${item.messageError}"></span>
					<input type="hidden" th:value="${item.messageError}" />
               </td>
	               
                <td class="text-nowrap text-left" th:text="${item.memoNo}" ></td>
                <td class="text-nowrap text-left" th:text="${item.agentCode}"></td>
                <td class="text-nowrap text-left" th:text="${item.reportingtoCode}"></td>
                <td class="text-nowrap text-left" th:text="${item.bmCode}"></td>
                <td class="text-nowrap text-left" th:text="${item.gadCode}"></td>
                <td class="text-nowrap text-left" th:text="${item.gaCode}"></td>
                <td class="text-nowrap text-left" th:text="${item.bdohCode}"></td>
                <td class="text-nowrap text-left" th:text="${item.bdrhCode}"></td>
                <td class="text-nowrap text-left" th:text="${item.bdahCode}"></td>
                <td class="text-nowrap text-left" th:text="${item.bdthCde}"></td>
                <td class="text-nowrap text-left" th:text="${item.policyNo}"></td>
                <td class="text-center" th:text="${item.appliedDate}? ${#dates.format(item.appliedDate, 'dd/MM/yyyy')}"></td>
                <td class="text-center" th:text="${item.issuedDate}? ${#dates.format(item.issuedDate, 'dd/MM/yyyy')}"></td>
                <td class="text-nowrap text-left" th:text="${item.result}"></td>
                <td class="text-nowrap text-left" th:text="${item.advance}"></td>
                <td class="text-nowrap text-left" th:text="${item.bonus}"></td>
                <td class="text-nowrap text-left" th:text="${item.clawback}"></td>
                <td class="text-nowrap text-left" th:text="${item.note}"></td>
              
                
            </tr>
            <th:block th:if="${pageWrapper.countAll == 0}">
                <tr>
                    <!-- # -->
                    <td th:colspan="20" th:text="#{table.emptyTable.label}">No data</td>
                </tr>
            </th:block>
            </tbody>
        </table>
    </div>
</div>

<!-- PAGINATION -->
<th:block th:include="views/commons/pagination.html :: content" />

<!-- <div class="form-group">
    <div class="col-12 center">
        <div class="box-btn-footer">

            <a id="btnCancel" class="btn-cancel u-btn-grey u-btn-effect">
                <i class="fa fa-times"></i>
                <span th:text="#{cancel.button}">Cancel</span>
            </a>

            <a id="btnUpdate" th:if="${#authorization.expression('hasAuthority(@roleDms.BUTTON_EDIT_MOVEMENT_EDIT +'':Edit'')')}"
                th:class="${searchDto.isError() or pageWrapper.countAll == 0 or (emptyAllReason != null and emptyAllReason) ? 'not-active' : ''}  + ' u-btn-common u-btn-effect btn-save'">
                class="not-active u-btn-common u-btn-effect btn-save">
                <i class="fa fa-floppy-o" aria-hidden="true"></i>
                <span th:text="#{update.button}">Update</span>
            </a>

            <a id="btnDelete" th:if="${#authorization.expression('hasAuthority(@roleDms.BUTTON_EDIT_MOVEMENT_DELETE +'':Edit'')')}"
                th:class="${searchDto.isError() or pageWrapper.countAll == 0 ? 'not-active' : ''} + ' u-btn-common u-btn-effect btn-submit'" >
                class="not-active u-btn-common u-btn-effect btn-submit" >
                <i class="fa fa-trash" aria-hidden="true"></i>
                <span th:text="#{delete.button}">Delete</span>
            </a>
        </div>
    </div>
</div> -->

<script type="text/javascript" th:src="@{/static/CMS/all/emulate-result-import/emulate-result-import-table.js}"></script>

<input type="hidden" id="sessionKey" name="sessionKey" th:value="${sessionKey}" />
<input type="hidden" id="isError" name="isError" th:value="${searchDto.isError()}" />
<input type="hidden" id="error" name="isError" th:value="${error}" />


<div class="modal fade" id="modal-import-message-error">
    <th:block th:include="views/base-master/detail-message-error.html :: content" />
</div>

<div class="modal fade" id="modal-import-warning-error">
    <th:block th:include="views/base-master/detail-message-warning.html :: content" />
</div>

<script th:inline="javascript">
    /*<![CDATA[*/
    var sessionKey = /*[[${sessionKey}]]*/;
    var CONTROLLER_URL = /*[[${controllerUrl}]]*/;
    var IS_ERROR = /*[[${searchDto.isError()}]]*/;
    var SEARCH_DTO = /*[[${searchDto}]]*/;
    var IS_SUBMIT = /*[[${searchDto.isSubmit()}]]*/;

    var MSG_CONFIRM_BACK = /*[[#{F006.E004}]]*/;
    var MSG_CONFIRM_DELETE = /*[[#{EDIT.MOVEMENT.F002.N002}]]*/;
    var MSG_CONFIRM_UPDATE = /*[[#{EDIT.MOVEMENT.F002.N005}]]*/;
    /*]]>*/
</script>

</body>
<!-- BODY END -->
</html>