<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <body th:fragment="content">
    <!-- <div class="col-sm-12"> -->
    <div class="col-sm-12 p-0">
      <!-- <div class="col-xs-10 col-sm-10 no-padding">
        <h2
          class="sub-header section-heading"
          th:text="#{search.results.title}"
        >
          Kết quả tìm kiếm
        </h2>
      </div> -->
      <div class="col-sm-8 p-0">
        <h2 class="title-box" th:text="#{search.results.title}">
          Kết quả tìm kiếm
        </h2>
      </div>

      <div class="col-sm-2 no-padding">
        <span class="pull-right">
          <button class="btn-common" type="button" id="btnExport">
            <i class="fa fa-download" aria-hidden="true"></i>
            <span th:text="#{document.versionlist.download}">Tải về</span>
          </button>
        </span>
      </div>
      <div class="table-responsive no-padding col-sm-12">
        <table class="table table-bordered table-striped table-hover">
          <thead>
            <tr>
              <th class="u_t_no">#</th>
              <th class="u_t_action" th:text="#{action.label}">Thao tác</th>
              <th class="u_t_code" th:text="#{product.code}">Mã</th>
              <th class="u_t_title" th:text="#{customer.vip.name}">Tên</th>
              <th class="u_t_title" th:text="#{product.enabled}">Kích hoạt</th>
              <th class="u_t_title" th:text="#{process.status}">Trạng thái</th>
              <th class="u_t_title" th:text="#{create.by}">Người tạo</th>
              <th class="u_t_date" th:text="#{create.date}">Ngày tạo</th>
            </tr>
          </thead>
          <tbody>
            <th:block
              th:each="dataRow,i : ${pageWrapper.data}"
              th:with="startIndex=${pageWrapper.startIndexCurrent}"
            >
              <tr th:attr="data-product-id=${dataRow.id}" class="trEdit">
                <td class="text-center" th:text="${i.index + startIndex}"></td>
                <td class="align-center">
                  <!-- Edit -->
                  <i
                    class="glyphicon glyphicon-edit custom-icon j-btn-edit"
                    th:title="#{icon.edit}"
                    th:if="${(searchDto.vip == 1 
											and (#authorization.expression('hasAuthority(''__${@cmsRoleConstant.ROLE_CUSTOMER_VIP}__:Edit'')')
												or #authorization.expression('hasAuthority(''__${@cmsRoleConstant.ROLE_CUSTOMER_VIP}__'')')))
										or (searchDto.fdi == 1 
											and (#authorization.expression('hasAuthority(''__${@cmsRoleConstant.ROLE_CUSTOMER_FDI}__:Edit'')')
												or #authorization.expression('hasAuthority(''__${@cmsRoleConstant.ROLE_CUSTOMER_FDI}__'')')))}"
                  >
                  </i>

                  <!-- Delete -->
                  <i
                    class="
                      glyphicon glyphicon-remove-sign
                      font-size-20
                      red
                      j-btn-delete
                    "
                    th:title="#{icon.delete}"
                    th:if="${((searchDto.vip == 1 
												and #authorization.expression('hasAuthority(''__${@cmsRoleConstant.ROLE_CUSTOMER_VIP}__:Edit'')'))
											or (searchDto.fdi == 1 
												and #authorization.expression('hasAuthority(''__${@cmsRoleConstant.ROLE_CUSTOMER_FDI}__:Edit'')')))}
											and (${dataRow.status eq @stepNoStatusConstant.STEP_DRAFT}
				              				or ${dataRow.status eq @stepNoStatusConstant.STEP_REJECTED})"
                  >
                  </i>
                </td>
                <td th:text="${dataRow.code}"></td>
                <td th:text="${dataRow.title}"></td>
                <td class="text-center">
                  <span th:if="${dataRow.enabled}">
                    <img th:src="@{/static/icons/icon-check-blue-1.png}" />
                  </span>
                </td>
                <td th:text="${dataRow.statusName}"></td>
                <td class="text-left" th:text="${dataRow.createBy}"></td>
                <td
                  class="text-center"
                  th:text="${dataRow.createDate }? ${#dates.format(dataRow.createDate, 'dd-MM-yyyy')}"
                ></td>
              </tr>
            </th:block>
          </tbody>
        </table>
      </div>
    </div>
    <th:block th:include="views/commons/pagination.html :: content" />

    <script
      type="text/javascript"
      th:src="@{/static/CMS/all/customer-vip/customer-vip-list.js}"
    ></script>
  </body>
</html>
