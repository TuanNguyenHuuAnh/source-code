<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<body th:fragment="content">

	<th:block th:if="${serLevAgrStepDetailDto.reminderList != null}">
		<th:block th:each="_item,i : ${serLevAgrStepDetailDto.reminderList}">
			<div class="col-md-12  form-group reminder-row" th:attr="data-index=${i.index}" th:classappend="${_item.deleteFlag} ? 'hidden' : ''">
				<input type="hidden" th:name="'reminderList[' +${i.index} + '].id'" th:value="${_item.id}" th:id="'slaAlertId'+${i.index}" />
				<input type="hidden" th:name="'reminderList[' +${i.index} + '].deleteFlag'" th:value="${_item.deleteFlag}" th:id="'deleteFlagR'+${i.index}" />
				
				<label class="col-sm-1"> Before </label> 
				<div class="col-sm-1">
					<input class="form-control" type="text" th:name="'reminderList[' +${i.index} + '].alert'" th:value="${_item.alert}" th:id="'alert'+${i.index}"/>
				</div>
				<div class="col-sm-2">
					<select class="form-control" th:name="'reminderList[' + ${i.index} + '].alertTime'">
						<option></option>
						<option th:each="choice : ${unitTimeList}" th:value="${choice.id}" th:text="#{${choice.text}}"
							th:selected="${choice.id == serLevAgrStepDetailDto.reminderList[__i.index__].alertTime}"></option>
					</select>
				</div>
				<label class="col-sm-1"> to </label>
				<div class="col-sm-2">
					<select class="form-control" th:name="'reminderList[' + ${i.index} + '].alertTo'" multiple="multiple">
						<th:block th:each="choice : ${userList}">
							<option th:value="${ choice.code }" th:text="${ choice.name }"
								th:selected="${#strings.contains(#strings.isEmpty(_item.alertTo)?'':_item.alertTo,choice.code)}"></option>
						</th:block>
					</select>
				</div>
				<label class="col-sm-2"> with template email </label>
				<div class="col-sm-2">
					<input class="form-control" type="text" th:name="'reminderList[' + ${i.index} + '].emailTemplate'" th:value="${_item.emailTemplate}"/>
				</div>
				<div class="col-sm-1">
					<i class="glyphicon glyphicon-remove-sign font-size-30 red remove-reminder" th:title="Remove"></i>
				</div>
			</div>
		</th:block>
	</th:block>

</body>
</html>
