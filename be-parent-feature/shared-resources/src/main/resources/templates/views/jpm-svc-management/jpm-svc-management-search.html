<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<body th:fragment="content">
    <form class="form-horizontal u-for-page-top j-formSearch" th:object="${search}" method="POST" role="form" id="formSearch">
    	<input type="hidden" id="company-id" th:field="*{companyId}" />
        <div class="bg-content clearfix">
            <div data-toggle="collapse" data-target="#search-box" class="header-box">
                <h2 class="title-box" th:text="#{search.title}">Vùng tìm kiếm</h2>
                <i class="fa fa-minus pull-right" aria-hidden="true"></i>
            </div>
            <div class="collapse in row m-0" id="search-box">
            	<div class="col-xs-12 col-sm-12 p-0">
            		<div class="col-sm-8 form-group">
                        <input type="text" class="form-control" th:field="*{fieldSearch}" th:placeholder="#{search.key}"/>
                    </div>
                    <div class="col-sm-4 form-group">
                        <select th:field="*{fieldValues}" multiple="multiple" class="form-control" id="search-filter">
                            <th:block th:each="item : ${fieldSelect}">
                                <option th:value="${item.value}"
                                        th:selected="${search.fieldValues} ? ${#arrays.contains(search.fieldValues,item.value)}: false"
                                        th:text="#{${item.name}}"></option>
                            </th:block>
                        </select>
                    </div>
            		<div class="col-sm-4 form-group" th:if="${companyList.size()>1}">
						<label for="companyId" class="col-sm-4 align-top no-padding" th:text="#{company.detail}">Company</label>
						<div class="col-sm-8 no-padding">
							<select class="form-control select2 select-company" id="companyId" name="companyId" th:field="*{companyId}">
								<option th:value="${NULL}" th:text="#{common.all}"></option>
								<option th:each="company : ${companyList}" 
									th:value="${company.id}"
									th:text="${company.text}">
								</option>
							</select>
						</div>
					</div>
					<input type="hidden" th:unless="${companyList.size()>1}" th:field="*{companyId}" />
					<div class="col-sm-4 form-group">
						<select class="form-control" th:field="*{categoryId}"></select>
					</div>
					<div class="col-sm-4 form-group">
						<label for="formType" class="col-sm-4 align-top no-padding" th:text="#{register.svc.list.form.type}">formType</label>
						<div class="col-sm-8 no-padding">
							<select class="form-control select2 " th:field="*{formType}">
								<option th:value="${NULL}" th:text="#{common.all}"></option> 
								<option th:each="form_type : ${formTypeList}" 
										th:value="${form_type.code}"
										th:text="${form_type.name}">
								</option>
							</select>
						</div>
					</div>
				</div>
				<div class="col-xs-12 col-sm-12" align="center">
					<span class="button">
						<a class="btn btn-common" id="btnSearch">
							<i class="fa fa-search"></i> <span th:text="#{search.button}"></span>
						</a>
					</span>
				</div>
            </div>
        </div>
	</form>
	
	<script type="text/javascript" th:inline="text">
        var SEARCH_CATEGORY_LABEL = '[[#{svc.management.category.name.search}]]';
 	</script>
    <script type="text/javascript" th:src="@{/static/cache/js/jpm-svc-management/jpm-svc-management-search.js}"></script>
</body>
</html>