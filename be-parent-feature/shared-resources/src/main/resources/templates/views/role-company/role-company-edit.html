<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org">
<body th:fragment="content">	
	<div class="bg-content clearfix bg-content-tbl">  
		<div class="header-box">
		<div class="row">
			<div class="col-sm-10">
				<h2 class="title-box" th:text="#{role.for.company.perm.list}">List permission</h2>
			</div>
			<div class="col-sm-2 align-right">
				<div class="icon-head">
					<a id="id-add" class="fa fa-plus-circle icon-head-red" type="button"></a>
		        	<!-- <a id="id-cancel" class="fa fa-arrow-circle-left icon-head-red" type="button"></a> -->
				</div>
			</div>
	    </div>
	    </div>
	    <div>
	    	<input type="hidden" id="roleId" th:value = "${roleId}" />
	        <form id="formAuthority">
	            <div class="row unit-bg-table m-0">
		            <div class="table-responsive">
		            	<input type="hidden" id="result_size" value="1"/>
			            <table id="companyTableId" class="table table-bordered table-striped">
			                <thead>
			                    <tr>
			                        <th class="u_t_no ">#</th>
			                        <!-- <th colspan="2" class="u_t_name"><input type="text" id="companyName1" class="form-control input-sm" th:placeholder="#{company.detail}"/></th> -->
			                        <!-- <th th:text = "#{select.button}">Ch·ªçn</th> -->
			                        <th th:text="#{company.detail}"></th>
			                        <th class="u_t_name col-organization" th:text="#{role.for.company.org}" >org name</th>
			                        <th th:text="#{role.for.company.admin}" >is admin</th>
			                        <!-- <th th:text="#{role.for.company.display.email}" >display email</th> -->
			                        <th class="no-action" th:text="#{table.label.action}" >Action</th>
			                        
			                    </tr>
			                </thead>
			                <tbody>
			                	<tr id="newRowCompany" class="hidden" data-id="0">
			                        	<td>0</td>                           
			                            <td>
			                            	<select class="form-control select2" id="companyId0" name="companyId0">
												<option th:each="company : ${companyList}"
														th:value="${company.id}"
														th:text="${company.text}"
														th:selected="${company.id} == ${companyId}">
												</option>
											</select>
										</td>
			                            <td class="col-organization">
			                            	<input type="text" class="form-control" name="orgId0" th:id="listOrg0"/>
			                            </td>
			                            <td class="text-center">
					                    	<input type="checkbox" class="check-access" id="isAdmin" name="isAdmin"/>
		                    			</td>
		                    			 <!-- <td class="text-center">
					                    	<input type="checkbox" class="check-access" th:id="isDisplayEmail__${iterStat.index}__"
						                           th:name="data[__${iterStat.index}__].isDisplayEmail"
						                           th:checked="${roleCompany.isDisplayEmail}" />
		                    			</td> -->
			                            <td class="td-action text-center">
		                           			<a class="glyphicon glyphicon-remove-sign font-size-20 red delete-role-for-company"></a>
		                           		</td>
			                     </tr>
			                    <th:block th:each="roleCompany,iterStat : ${pageWrapper.data}" th:with="startIndex=${pageWrapper.startIndexCurrent}">
			                        <!-- <tr>
			                            <input type="hidden" class="j-role-id" th:name="data[__${iterStat.index}__].companyId" th:id="companyId__${iterStat.index}__"
			                                                 th:value="${roleCompany.companyId}" />
			                            <input type="hidden" th:id="id__${iterStat.index}__" th:value="${roleCompany.id}" class="role-company-id"/>
			                            <input type="hidden" th:id="index" th:value="${iterStat.index}" />
			                            <td th:text="${iterStat.index + 1}"></td>                           
			                            <td >
											<select class="form-control select2" th:id="companyId__${iterStat.index}__" name="data[__${iterStat.index}__].companyId">
												<option th:each="company : ${companyList}"
														th:value="${company.id}"
														th:text="${company.text}"
														th:selected="${company.id} == ${roleCompany.companyId}">
												</option>
											</select>
			                            </td>
			                            <td class="col-organization">
				                          	<input type="text" class="form-control" name="data[__${iterStat.index}__].orgId"
												th:value="${roleCompany.orgId}" th:id="${'listOrg'+iterStat.index}"/>
			                            </td>
			                            <td class="text-center">
					                    	<input type="checkbox" class="check-access" th:id="isAdmin__${iterStat.index}__"
						                           th:name="data[__${iterStat.index}__].isAdmin"
						                           th:checked="${roleCompany.isAdmin}" />
		                    			</td>
		                    			 <td class="text-center">
					                    	<input type="checkbox" class="check-access" th:id="isDisplayEmail__${iterStat.index}__"
						                           th:name="data[__${iterStat.index}__].isDisplayEmail"
						                           th:checked="${roleCompany.isDisplayEmail}" />
		                    			</td>
			                            <td class="td-action text-center">
		                           			<a class="glyphicon glyphicon-remove-sign font-size-20 red delete-role-for-company"> </a> 
		                           		</td>
			                        </tr> -->
			                        <tr th:attr="data-companyid=${roleCompany.companyId},data-orgid=${roleCompany.orgId}">
			                        	<td th:text="${iterStat.index + startIndex}"></td>                           
			                            <td th:text="${roleCompany.companyName}"></td>
			                            <td class="col-organization" th:text="${roleCompany.orgName}"></td>
			                            <td class="text-center">
					                    	<input type="checkbox" class="check-access" th:id="isAdmin__${iterStat.index+1}__"
						                           th:name="data[__${iterStat.index+1}__].isAdmin"
						                           th:checked="${roleCompany.isAdmin}" />
		                    			</td>
		                    			 <!-- <td class="text-center">
					                    	<input type="checkbox" class="check-access" th:id="isDisplayEmail__${iterStat.index}__"
						                           th:name="data[__${iterStat.index}__].isDisplayEmail"
						                           th:checked="${roleCompany.isDisplayEmail}" />
		                    			</td> -->
			                            <td class="td-action text-center">
		                           			<a class="glyphicon glyphicon-remove-sign font-size-20 red delete-role-for-company"> </a> 
		                           		</td>
			                        </tr>
			                    </th:block>
			                </tbody>
			            </table>
		            </div>
	            </div>
	        </form>
	    </div>
	</div>
	<!-- script for paging -->
    <th:block th:include="views/commons/pagination.html :: content"/>
    <!-- end script -->
	<script th:inline="javascript">
	    /*<![CDATA[*/
	    var messageListEdit= /*[[${messageList}]]*/;
	    /*]]>*/
	</script>    
    <script type="text/javascript" th:src="@{/static/cache/js/role-company/role-company-edit.js}"></script>
</body>
</html>
