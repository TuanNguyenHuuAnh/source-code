<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<body th:fragment="content">
<form class="form-horizontal u-for-page-top" method="POST" role="form" id="formSearch" th:object="${searchDto}">
        <div class="bg-content clearfix">
            <div data-toggle="collapse" data-target="#search-box" class="header-box">
                <h2 class="title-box" th:text="#{search.title}">Vùng tìm kiếm </h2>
                <i class="fa fa-minus pull-right" aria-hidden="true"></i>
            </div>
            <div class="collapse in" id="search-box">
               	<div class="row">
                    <div class="col-md-4 form-group">
                        <input type="text" class="form-control" th:field="*{fieldSearch}" th:placeholder="#{search.key}"/>
                    </div>
                    <div class="col-md-3 form-group">
                        <select multiple="multiple" class="form-control" id="search-filter" name="fieldValues">
                            <th:block th:each="item : ${fieldSelect}">
                                <option th:value="${item.value}"
                                        th:text="#{${item.name}}">
                                </option>
                            </th:block>
                        </select>
                    </div>
                    <div class="col-md-5 form-inline">
                   		<label for="effectiveDate" class="form-group col-sm-3 no-padding align-top" th:text="#{jpm.process.effective.date}">Effective date</label>
					    <div class="form-group col-sm-4 no-padding">
					        <div class="input-group date datepicker-from-date pull-left">
								<input class="form-control" th:field="*{fromDate}" th:placeholder="#{search.from.date}"/>
								<div class="input-group-addon">
		                            <i class="fa fa-calendar"></i>
		                        </div>
							</div>
					    </div>
					    <label class="form-group col-sm-1 align-top">~</label>
					    <div class="form-group col-sm-4 no-padding">
					        <div class="input-group date datepicker-to-date pull-left">
								<input class="form-control" th:field="*{toDate}" th:placeholder="#{search.to.date}"/>
								<div class="input-group-addon">
		                            <i class="fa fa-calendar"></i>
		                        </div>
							</div>
					    </div>
                    </div>
                   </div>
                   
                   <div class="form-group">
                   		<div class="row">
	                        <div class="col-sm-4 form-group" th:if="${companyList.size()>1}">
	    						<select class="col-sm-9 form-control select2 select-company" th:field="*{companyId}">
	    							<option th:each="company : ${companyList}" 
	    									th:value="${company.id}"
	    									th:text="${company.text}">	
	    							</option>
	    						</select>
	    					</div>
	    					<div class="col-sm-3 form-group">
	                            <select class="form-control select2 " th:field="*{businessId}">
	                            	<option value=""></option>
	    							<option th:each="item : ${businessList}"
	    									th:value="${item.id}" 
	    									th:text="${item.text}">
	    							</option>
	                            </select>
	                        </div>
	    					<input type="hidden" th:unless="${companyList.size()>1}" th:field="*{companyId}" />
	    				</div>
                    </div>
                        
                    <div class="row m-0 pos-gr-btn">
						<button type="submit" class="u-btn u-btn-primary" id="btnSearch">
					       <i class="fa fa-search"></i>
					       <span th:text="#{search.button}"></span>
					   </button>
					</div>
                <input hidden="hidden" id="fieldSearchHidden"/>
                <input hidden="hidden" id="fieldValuesHidden"/>
            </div>
        </div>
    </form>
    <script type="text/javascript" th:inline="text">
    var COMPANY_FILTER = '[[#{search.filter.company.code}]]';
    var BUSINESS_FILTER = '[[#{search.filter.business.code}]]';
    </script>
    <script type="text/javascript" th:src="@{/static/cache/js/jpm-process-deploy/jpm-process-deploy-search.js}"></script>
</body>
</html>