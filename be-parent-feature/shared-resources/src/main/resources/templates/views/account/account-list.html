<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{templates/unit-layout}"
  layout:fragment="body">
<link rel="stylesheet" type="text/css" th:href="@{/static/cache/jquery/multiple-select/css/jquery.multiselect.css}"/>
<script type="text/javascript" th:src="@{/static/cache/jquery/multiple-select/js/jquery.multiselect.js}"></script>
<body>
	<div class="title-head">
		<div class="row">
			<div class="col-md-5">
				<h3>
					<span th:text="#{account.list.page}">Tiêu đề trang</span>
				</h3>
			</div>
		   	<div class="col-md-7">
		        <div class="pull-right">
					 <a class="u-btn u-btn-back" id="id-sync-ldap">
					 	<img th:src="@{/static/images/icon-down.png}" alt="" width="17px"/>
					 	<span>Sync LDAP</span>
					 </a>
					 <a class="u-btn u-btn-primary" id="addNew" 
              				th:if="${#authorization.expression('hasAuthority(@roleConstant.ACCOUNT)')}">
		            	<img th:src="@{/static/images/ico-plus-white.png}" alt="" />
		                <span>Thêm mới</span>
		             </a>
		        </div>
		   </div>
		</div>	
	</div>

	<form class="form-horizontal u-for-page-top" th:object="${searchDto}" method="POST" role="form">
		<th:block th:include="views/commons/message-alert.html :: content(${messageList})"/>
	
		<div class="bg-content clearfix">
			<div data-toggle="collapse" data-target="#search-box" class="header-box"> 
               <h2 class="title-box" th:text="#{search.title}">Vùng tìm kiếm</h2>
               <i class="fa fa-minus pull-right" aria-hidden="true"></i> 
            </div>
            <div class="collapse in" id="search-box">
				<div class="row">
					<div class="col-md-4 form-group">
						<input type="text" class="form-control" th:field="*{searchValue}" th:placeholder="#{search.key}"/>
					</div>
					
					<div class="col-md-4 form-group">
						<select th:field="*{listSearchKeyIds}" multiple="multiple" class="form-control" id="search-filter">
							<th:block th:each="searchKey : ${searchKeyList}">
								<option th:value="${searchKey.fieldId}"
										th:text="${searchKey.dispName}"
										th:selected="${searchDto.searchKeyIds} != null ? ${#strings.contains(searchDto.searchKeyIds, 'USERNAME')} : false">
								</option>
							</th:block>
						</select>
			     	</div>
			     	
					<div class="col-md-4 form-group no-padding" th:if="${companyList.size()>1}">
						<label for="companyId" class="col-md-3 align-top" th:text="#{company.detail}">Company</label>
						<div class="col-md-9">
							<select class="col-sm-9 form-control select2 select-company" id="companyId" name="companyId" th:field="*{companyId}">
								<option th:value="0" th:text="#{common.all}"></option>
								<option th:each="company : ${companyList}" 
									th:value="${company.id}"
									th:text="${company.text}">
								</option>
							</select>
						</div>
					</div>
					<input type="hidden" th:unless="${companyList.size()>1}" th:field="*{companyId}" />
				</div>
				<div class="row">
					<div class="col-sm-2 form-group no-padding">
						<label class="col-sm-1">
							<input id="enabled" type="checkbox" th:field="*{enabled}" />
						</label>
						<label for="enabled" class="col-sm-9 m-0" th:text="#{account.enabled}">KÃ­ch hoáº¡t</label>
					</div>
					
					<!-- <div class="col-sm-3 form-group no-padding">
						<div class="col-sm-2">
							<input type="checkbox" th:field="*{unknownPosition}" />
						</div>
						<label class="col-sm-10" th:text="#{account.unknown.pos}">Unknown position</label>
					</div>
					
					<div class="col-sm-3 form-group no-padding">
						<div class="col-sm-2">
							<input type="checkbox" th:field="*{unknownOrg}" />
						</div>
						<label class="col-sm-10" th:text="#{account.unknown.org}">Unknown organization</label>
					</div>
					
					<div class="col-sm-3 form-group no-padding">
						<div class="col-sm-2">
							<input type="checkbox" th:field="*{BOD}" />
						</div>
						<label class="col-sm-10" th:text="#{searchfield.account.isHO}">BOD</label>
					</div> -->
					
					<div class="col-sm-2 form-group ">
						<label class="col-sm-1 ">
							<input id="locked" type="checkbox" th:field="*{locked}" />
						</label>
						<label for="locked" class="col-sm-9 m-0" th:text="#{account.locked}">Locked</label>
					</div>
				</div>
				
				<!-- <div class="col-xs-12 col-sm-12">
					
					<div class="col-sm-3 form-group no-padding">
						<div class="col-sm-2 ">
							<input type="checkbox" th:field="*{emptyPosition}" />
						</div>
						<label class="col-sm-10" th:text="#{account.empty.pos}">Position is empty</label>
					</div>
					
					<div class="col-sm-3 form-group no-padding">
						<div class="col-sm-2">
							<input type="checkbox" th:field="*{emptyOrg}" />
						</div>
						<label class="col-sm-10" th:text="#{account.empty.org}">Organization is empty</label>
					</div>
					
					<div class="col-sm-3 form-group no-padding">
						<div class="col-sm-2">
							<input type="checkbox" th:field="*{sentBOD}" />
						</div>
						<label class="col-sm-10" th:text="#{searchfield.account.canSendHO}">BOD</label>
					</div> 
					
				</div>-->
				<div class="row m-0 pos-gr-btn">
					<button type="submit" class="u-btn u-btn-primary" id="btnSearch">
				       <i class="fa fa-search"></i>
				       <span th:text="#{search.button}"></span>
				   </button>
				</div>

			</div>
		</div>
	</form>
	<div class="bg-content-tbl" id="tableList">
		<th:block th:include="views/account/account-table.html :: content"/>
	</div>

	<input type="hidden" id="fieldSearchHidd"/>
	<input type="hidden" id="fieldValuesHidd"/>
	<input type="hidden"id="urlSearch"/>
	<input type="hidden" id="url" name="url" th:value="${pageUrl}"/>
	<script type="text/javascript" th:src="@{/static/cache/js/account/account-list.js}"></script>
	</body> 
</html>

