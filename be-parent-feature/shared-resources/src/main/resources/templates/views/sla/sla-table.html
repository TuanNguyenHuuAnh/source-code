<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<body th:fragment="content">
	<div class="row m-0">
		<div class="header-box">
			<h2 class="title-box" th:text="#{search.results.title}">Kết quả tìm kiếm</h2>
		</div>
		<div class="">
			<div class="table-responsive">
				<table id="data" class="table table-bordered table-striped table-hover">
					<thead>
						<tr>
							<th class="no">#</th>
							<th th:text="#{table.label.action}">Action</th>
							<th th:text="#{company.name}" th:if="${#authentication?.principal?.companyIdList.size() lt 1 or #authentication?.principal?.companyAdmin}">Company</th>	
							<th th:text="#{sla.label.name}">SLA Name</th>
							<th th:text="#{business.definition.name}">Business name</th>
							<th th:text="#{j.process.name}">Process name</th>
						</tr>
					</thead>
					<tbody>
						<th:block th:each="_item,i : ${pageWrapper.data}" th:with="startIndex=${pageWrapper.startIndexCurrent}">
							<tr class="db-click" th:attr="data-sla-id=${_item.id}">
								<td class="text-center" th:text="${i.index + startIndex}"></td>
								<td class="text-center">
									<div class="btn-group">
										<a class="j-btn-edit glyphicon glyphicon-edit custom-icon" title="Update"></a> <a
											class="j-btn-delete glyphicon glyphicon-remove-sign font-size-20 red" title="Delete"></a>
									</div>
								</td>
								<td th:text="${_item.companyName}" th:if="${#authentication?.principal?.companyIdList.size() lt 1 or #authentication?.principal?.companyAdmin}"></td>
								<td th:text="${_item.name}"></td>
								<td th:text="${_item.businessName}"></td>
								<td th:text="${_item.processDeployName}"></td>
							</tr>
						</th:block>
						<th:block th:if="${pageWrapper.data.size() == 0}">
	                        <tr>
	                            <td colspan="100%" th:text="#{table.emptyTable.label}"></td>
	                        </tr>
	                    </th:block>
					</tbody>
				</table>
			</div>
			<th:block th:include="views/commons/pagination.html :: content(pageWrapper=${pageWrapper})" />
		</div>
	</div>
	
	<script type="text/javascript" th:src="@{/static/cache/js/sla/sla-table.js}"></script>
</body>
</html>
