<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{templates/unit-layout}"
  layout:fragment="body">
<script type="text/javascript" th:src="@{/static/cache/jquery/multiple-select/js/jquery.multiselect.js}"></script>
<link rel="stylesheet" type="text/css" th:href="@{/static/cache/jquery/multiple-select/css/jquery.multiselect.css}" />
<body th:fragment="content">
	<div class="title-head">
		<div class="row">
			<div class="col-md-5">
				<h3>
					<span th:text="#{item.management.list.page}">Tiêu đề trang</span>
				</h3>
			</div>
		   	<div class="col-md-7">
		        <div class="pull-right">
					 <a class="u-btn u-btn-primary" th:href="@{/item/edit}" 
              	th:if="${#authorization.expression('hasAuthority(@roleConstant.ITEM_MANAGEMENT)')}">
		            	<img th:src="@{/static/images/ico-plus-white.png}" alt="" />
		                <span>Thêm mới</span>
		             </a>
		        </div>
		   </div>
		</div>	
	</div>
	
    <form class="form-horizontal u-for-page-top" method="POST" role="form" id="form-list" th:object="${searchDto}">
        <th:block th:include="views/commons/message-alert.html :: content(${messageList})"/>
        <div class="bg-content clearfix">
            <div data-toggle="collapse" data-target="#search-box" class="header-box">
                <h2 class="title-box" th:text="#{search.title}">Vùng tìm kiếm </h2>
                <i class="fa fa-minus pull-right" aria-hidden="true"></i>
            </div>
            <div class="collapse in" id="search-box">
            	<div class="row">
                    <div class="col-sm-4 form-group">
                        <input type="text" class="form-control" th:field="*{fieldSearch}" th:placeholder="#{search.key}"/>
                    </div>
                    <div class="col-sm-4 form-group">
                        <select th:field="*{fieldValues}" multiple="multiple" class="form-control" id="search-filter">
                            <th:block th:each="item : ${fieldSelect}">
                                <option th:value="${item.value}"
                                        th:selected="${searchDto.fieldValues} ? ${#arrays.contains(searchDto.fieldValues,item.value)}: false"
                                        th:text="#{${item.name}}"></option>
                            </th:block>
                        </select>
                    </div>
                    <div class="col-sm-4 form-group no-padding"  th:if="${companyList.size()>1}">
						<label for="companyId" class="col-sm-3 align-top" th:text="#{company.detail}">Company</label>
						<div class="col-sm-8 no-padding">
							<select class="col-sm-9 form-control select2 select-company" th:field="*{companyId}">
								<option th:value="0" th:text="#{common.all}"></option>
								<option th:each="company : ${companyList}" 
										th:value="${company.id}"
										th:text="${company.text}">
								</option>
							</select>
						</div>
					</div>
            		<!-- <div class="col-sm-4 form-group">
                        <select class="form-control" id="businessCode">
                        	<option value=""> </option>
							<th:block th:each="item : ${lstBusiness}">
								<option th:value="${ item.code }" th:text="${ item.name }" th:selected="${item.code} == *{businessCode}"></option>
							</th:block>
                        </select>
                    </div> -->
                    
                </div>
               <div class="row m-0 pos-gr-btn">
					<button type="submit" class="u-btn u-btn-primary" id="btnSearchItem">
				       <i class="fa fa-search"></i>
				       <span th:text="#{search.button}"></span>
				   </button>
				</div>
                <input hidden="hidden" id="fieldSearchHidden"/>
                <input hidden="hidden" id="fieldValuesHidden"/>
				<input type="hidden"id="urlSearch"/>

			</div>
        </div>
    </form>
    <div class="bg-content-tbl" id="itemTableList">
        <th:block th:include="views/item-management/item-management-table.html :: content"/>
    </div>
    <script type="text/javascript" th:src="@{/static/cache/js/item-management/item-management-list.js}"></script>
    <style type="text/css">
	    .bg-phl .bg-content-tbl .title-box {
	    border-bottom: none;
	    padding: 3px 0;
	    margin: 5px 15px;
    }
    </style>
</body>
</html>