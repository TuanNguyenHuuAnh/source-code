<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<body th:fragment="content">
	<form class="form-horizontal u-for-page-top j-form-validate"
		role="form" id="router-form" method="POST" autocomplete="off"
		th:object="${routerDto}" th:action="@{/}">
		<div class="bg-content clearfix">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close" id="closeModal">
					<span aria-hidden="true">&times;</span>
				</button>
				<h2 class="title-box" id="router-modal-label"
					th:text="#{jpm.process.router.information}">Router Information</h2>
			</div>
			<div class="modal-body">

				<th:block
					th:include="views/commons/message-alert.html :: content(${messageList})" />

				<input type="hidden" th:field="*{id}" />
				<input type="hidden" th:field="*{processId}" />
				<div class="row">
					<div class="col-md-12">
						<div class="form-group">
							<label th:for="*{code}" class="col-md-3 required"
								th:text="#{jpm.process.router.code}">Code</label>
							<div class="col-md-9">
								<input type="text" class="form-control" th:field="*{code}"
									readonly="true" />
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="form-group">
							<label th:for="*{name}" class="col-md-3 required"
								th:text="#{jpm.process.router.name}">Router</label>
							<div class="col-md-9">
								<input type="text" class="form-control" th:field="*{name}"
									readonly="true" />
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="form-group">
							<label th:for="*{dataType}" class="col-md-3 required" th:text="#{jpm.process.param.data.type}">data type</label>
							<div class="col-md-9">
								<select class="form-control j-required" th:field="*{dataType}">
                                    <option th:each="type : ${dataTypes}"
	                                    th:value="${type.key}" 
	                                    th:text="${type.value}">
	                                </option>
                                </select>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<label class="col-md-3"
								th:text="#{jpm.process.router.detail}">Detail</label>
						<div class="col-md-12 form-group m-0">
							<table id="data-router-detail"
								class="table table-bordered table-striped table-hover">
								<thead>
									<tr>
										<th class="no">#</th>
										<th th:text="#{jpm.process.router.flow.name}">Flow name</th>
										<th th:text="#{jpm.process.rule.value}">Value</th>
										<th th:text="#{jpm.process.rule.explain}">Explain</th>
									</tr>
								</thead>
								<tbody>
									<th:block th:if="${routerDto != null}">
										<th:block th:each="_item,i : ${routerDto.details}">
											<tr class="db-click" th:attr="data-jpm-router-id=${_item.id}">
												<td class="text-center" th:text="${i.index + 1 }"></td>
												<td th:text="${_item.name}"></td>
												<td th:text="${_item.value}"></td>
												<td th:text="${_item.explain}"></td>
											</tr>
										</th:block>
									</th:block>
									<th:block
										th:if="${routerDto.details==null || routerDto.details.size()==0}">
										<tr>
											<td colspan="100%" th:text="#{table.emptyTable.label}"></td>
										</tr>
									</th:block>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<span class="button"> <a href="#" class="btn btn-cancel"
				data-dismiss="modal" th:text="#{close.button}">Close</a>
			</span>
			<button id="btn-router-submit" class="btn btn-common btn-in-tablet"
				type="button" th:text="#{save.button}">Save</button>
		</div>
	</form>
	<script th:inline="javascript" type="text/javascript">
		
	</script>
</body>
</html>